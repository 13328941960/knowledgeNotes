(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{115:function(a,t,e){"use strict";e.r(t);var s=e(0),n=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"网络请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网络请求"}},[a._v("#")]),a._v(" 网络请求")]),a._v(" "),e("p",[a._v("浏览器发送一个网络请求的整体过程：")]),a._v(" "),e("h3",{attrs:{id:"构建请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#构建请求"}},[a._v("#")]),a._v(" 构建请求")]),a._v(" "),e("p",[a._v("浏览器会自动构建请求行")]),a._v(" "),e("p",[a._v("GET HTTP/1.1")]),a._v(" "),e("h3",{attrs:{id:"检查是否有强缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#检查是否有强缓存"}},[a._v("#")]),a._v(" 检查是否有强缓存")]),a._v(" "),e("p",[a._v("先检查强缓存，如果有直接使用缓存，否则发送请求")]),a._v(" "),e("h3",{attrs:{id:"dns解析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dns解析"}},[a._v("#")]),a._v(" DNS解析")]),a._v(" "),e("p",[a._v("发送网络请求是从输入URL开始，但是数据包是以IP地址的方式传输到服务器。\n在这过程中需要依赖一个系统——DNS，将域名转成IP，这个转化的过程就叫做DNS解析。\n注意：浏览器有DNS缓存功能，即解析过的DNS可以直接获取而不需要再次解析。")]),a._v(" "),e("h3",{attrs:{id:"建立tcp连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#建立tcp连接"}},[a._v("#")]),a._v(" 建立TCP连接")]),a._v(" "),e("p",[a._v("TCP是一种连接的、可靠的、基于字节流的传输通信协议。")]),a._v(" "),e("p",[a._v("建立TCP的过程分成三步：")]),a._v(" "),e("ol",[e("li",[e("p",[a._v("三次握手（即总共发送3个数据包确认已经建立连接）建立客户端和服务端的连接。")])]),a._v(" "),e("li",[e("p",[a._v("数据传输：")]),a._v(" "),e("p",[a._v("（1）确认机制：在对方接受到数据后必须向对方确认收到，否则会被认为数据丢失")]),a._v(" "),e("p",[a._v("（2）大包拆小包机制：在传输过程会将大数据包拆成一个一个小包，接收方再将小包拼成大包。")])]),a._v(" "),e("li",[e("p",[a._v("四次挥手：断开连接接口通过四次挥手来完成。")])])]),a._v(" "),e("h3",{attrs:{id:"发送http请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#发送http请求"}},[a._v("#")]),a._v(" 发送HTTP请求")]),a._v(" "),e("p",[a._v("已经连接完成，此时要发送HTTP请求：")]),a._v(" "),e("ol",[e("li",[a._v("浏览器发送请求包括：请求行、请求头、请求体")])]),a._v(" "),e("p",[a._v("请求头")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("请求方法是GET，路径为根路径，HTTP协议版本为1.1\nGET / HTTP/1.1\n")])])]),e("p",[a._v("请求行")]),a._v(" "),e("p",[a._v("同时也要带上请求头，比如我们之前说的Cache-Control、If-Modified-Since、If-None-Match都由可能被放入请求头中作为缓存的标识信息。\n当然了还有一些其他的属性，列举如下:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3\nAccept-Encoding: gzip, deflate, br\nAccept-Language: zh-CN,zh;q=0.9\nCache-Control: no-cache\nConnection: keep-alive\nCookie: /* 省略cookie信息 */\nHost: www.baidu.com\nPragma: no-cache\nUpgrade-Insecure-Requests: 1\nUser-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1\n")])])]),e("p",[a._v("最后是请求体")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("currentUid: 5cc811495188252d740bfa1c\ntargetUids: 5c45ddf06fb9a04a006f5491\nsrc: web\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[a._v("服务器收到请求：返回响应头、响应行：响应体")])])])}),[],!1,null,null,null);t.default=n.exports}}]);