<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>网络协议 | 前端知识体系</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/knowledgeNotes/favicon.ico">
    <meta name="description" content="JavaScript、浏览器、网络协议、面试题等基本知识点">
    
    <link rel="preload" href="/knowledgeNotes/assets/css/0.styles.65249e03.css" as="style"><link rel="preload" href="/knowledgeNotes/assets/js/app.5e018f91.js" as="script"><link rel="preload" href="/knowledgeNotes/assets/js/2.5cec4d22.js" as="script"><link rel="preload" href="/knowledgeNotes/assets/js/40.5c9d73f1.js" as="script"><link rel="prefetch" href="/knowledgeNotes/assets/js/10.748f4b69.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/11.7c49a474.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/12.cdc81342.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/13.fabf43ff.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/14.db14e0b9.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/15.3cc96b03.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/16.5bd16b60.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/17.34d48a5f.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/18.2788d950.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/19.cdcac6e3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/20.ceec1fd2.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/21.8c4dd590.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/22.83666e0e.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/23.ba04fce3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/24.ba6ef92d.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/25.628a5972.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/26.1ea7fd44.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/27.12672403.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/28.369f5248.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/29.d6b0706c.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/3.078657ae.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/30.cb566d20.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/31.e9c492dc.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/32.fa7296e3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/33.3c37814c.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/34.e9227f72.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/35.d252c2a1.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/36.5b4ae026.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/37.5c79acb4.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/38.bb525eb1.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/39.eb800ee7.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/4.084eb4c2.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/41.22f368c7.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/42.edfb6147.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/43.19e3eb4e.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/44.585b5428.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/5.9ecf4c9f.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/6.218adc9e.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/7.e9a83db0.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/8.4f2b9d8d.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/9.61b72c69.js">
    <link rel="stylesheet" href="/knowledgeNotes/assets/css/0.styles.65249e03.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/knowledgeNotes/" class="home-link router-link-active"><!----> <span class="site-name">前端知识体系</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络协议</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架与库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>面试题</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledgeNotes/mianshi/1.js.html" class="sidebar-link">JavaScript</a></li><li><a href="/knowledgeNotes/mianshi/2.es6.html" class="sidebar-link">ES6</a></li><li><a href="/knowledgeNotes/mianshi/3.编码题.html" class="sidebar-link">编码题</a></li><li><a href="/knowledgeNotes/mianshi/4.html、css.html" class="sidebar-link">HTML、CSS</a></li><li><a href="/knowledgeNotes/mianshi/5.网络协议.html" class="active sidebar-link">网络协议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#协议" class="sidebar-link">协议</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#tcp三次握手" class="sidebar-link">TCP三次握手</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#四次挥手" class="sidebar-link">四次挥手</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#三次握手的作用" class="sidebar-link">三次握手的作用</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#http-报文结构是怎样的" class="sidebar-link">HTTP 报文结构是怎样的</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#起始行" class="sidebar-link">起始行</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#头部" class="sidebar-link">头部</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#空行" class="sidebar-link">空行</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#实体" class="sidebar-link">实体</a></li></ul></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#http请求方式-区别是什么" class="sidebar-link">HTTP请求方式，区别是什么</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#谈一谈http协议优缺点" class="sidebar-link">谈一谈HTTP协议优缺点</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#http-1-1" class="sidebar-link">HTTP 1.1</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#http-2-0" class="sidebar-link">HTTP 2.0</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#介绍http-缓存策略" class="sidebar-link">介绍HTTP 缓存策略</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#内存缓存在哪里呢" class="sidebar-link">内存缓存在哪里呢？</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#协商缓存" class="sidebar-link">协商缓存</a></li></ul></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#http状态码" class="sidebar-link">Http状态码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#_1xx" class="sidebar-link">1xx</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#_2xx-请求成功" class="sidebar-link">2xx：请求成功</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#_3xx-重定向" class="sidebar-link">3xx: 重定向</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#_4xx-客户端错误" class="sidebar-link">4xx: 客户端错误</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/5.网络协议.html#_5xx-服务端错误" class="sidebar-link">5xx: 服务端错误</a></li></ul></li></ul></li><li><a href="/knowledgeNotes/mianshi/6.浏览器.html" class="sidebar-link">浏览器</a></li><li><a href="/knowledgeNotes/mianshi/7.框架.html" class="sidebar-link">框架</a></li><li><a href="/knowledgeNotes/mianshi/9.性能优化.html" class="sidebar-link">前端性能优化</a></li><li><a href="/knowledgeNotes/mianshi/10.前端安全.html" class="sidebar-link">前端安全</a></li><li><a href="/knowledgeNotes/mianshi/12.前端工程.html" class="sidebar-link">webpack</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="网络协议"><a href="#网络协议" class="header-anchor">#</a> 网络协议</h1> <h2 id="协议"><a href="#协议" class="header-anchor">#</a> 协议</h2> <p>双方通信计算机的时候，需要遵循一定的规则。就像人交流的时候，需要先规定好一种语言。这样的交流规则就是协议</p> <h2 id="tcp三次握手"><a href="#tcp三次握手" class="header-anchor">#</a> TCP三次握手</h2> <ol><li>刚开始客户端处于closed状态，服务端处于listen状态</li> <li>第一次握手：客户端给服务端发送一个SYN报文，并指明客户端初始序列号。此时客户端处于SYN_SEND状态。</li> <li>第二次握手：服务端收到客户端的SYN报文后，发送一个以客户端的SYN + 1作为序列号值的ACK报文，表示自己已经收到客户端的SYN，同时发送自己的SYN报文，并指定自己的初始序列号ISN(s), 此时服务端处于SYN_REVD的状态</li> <li>第三次握手：客户端收到服务端发来的SYN+ACK报文后，发送一个以服务端的SYN+1作为序列号值的ACK报文，表示已经收到了服务端的SYN+ACK报文，此时客户端处于establised状态</li> <li>服务端收到ACK报文后也处于establised状态，此时双方建立起了链接。</li></ol> <h2 id="四次挥手"><a href="#四次挥手" class="header-anchor">#</a> 四次挥手</h2> <ol><li>刚开客户端和服务端都处于establised状态</li> <li>第一次挥手，客户端先发送一个FIN报文，报文中初始一个序列号。此时客户端处于time_wait1状态</li> <li>第二次挥手，服务端收到FIN报文后，服务端收到后返回一个以FIN+1为序列号的ACK报文，表示已经收到客户端发来的FIN报文。此时服务端处于closed_wait状态</li> <li>第三次挥手，服务端也发送一个FIN报文，并且在报文中初始话一个序列号，此时服务端处于Last_ack状态。</li> <li>第四次挥手，客户端收到服务端发来的FIN报文，返回一个以FIN+1为序列号的Ack报文，表示已经接收到服务端发来的FIN报文。此时客户端处于time_wait状态。
需要等一段报文来回传输的时间后，来确保服务端收到自己的ACK报文之后才会进入close状态。</li> <li>服务端收到了ACK后，就处于close状态了</li></ol> <h2 id="三次握手的作用"><a href="#三次握手的作用" class="header-anchor">#</a> 三次握手的作用</h2> <ol><li>确认双方的发送能力和接受能力是否正常</li> <li>为后续的可靠传输做准备</li></ol> <h2 id="http-报文结构是怎样的"><a href="#http-报文结构是怎样的" class="header-anchor">#</a> HTTP 报文结构是怎样的</h2> <p><strong>请求报文</strong> = 起始行 + 头部 + 空行 + 实体</p> <p><strong>响应报文</strong> = 起始行 + 头部 + 空行 + 实体</p> <h3 id="起始行"><a href="#起始行" class="header-anchor">#</a> 起始行</h3> <ol><li>请求起始行：方法 路径 版本: GET /home HTTP/1.1</li></ol> <p>每个部分用空格隔开，最后加一个换行</p> <ol start="2"><li>响应始行：http版本 状态 原因: HTTP/1.1 200 ok</li></ol> <p>每个部分用空格隔开，最后加一个换行</p> <h3 id="头部"><a href="#头部" class="header-anchor">#</a> 头部</h3> <p>字段名：字段值 换行</p> <h3 id="空行"><a href="#空行" class="header-anchor">#</a> 空行</h3> <p>很重要，用来区分开头部和实体。</p> <h3 id="实体"><a href="#实体" class="header-anchor">#</a> 实体</h3> <p>就是具体的数据了，也就是body部分。请求报文对应请求体, 响应报文对应响应体。</p> <h2 id="http请求方式-区别是什么"><a href="#http请求方式-区别是什么" class="header-anchor">#</a> HTTP请求方式，区别是什么</h2> <p>GET: 用于获取资源
HEAD: 获取资源的元信息
POST: 提交数据
PUT: 修改数据
DELETE: 删除数据
CONNECT: 建立连接隧道，用于代理服务器
OPTIONS: 列出服务允许的请求方法，用于跨域请求
TRACE: 追求请求-响应的传输路径</p> <h2 id="谈一谈http协议优缺点"><a href="#谈一谈http协议优缺点" class="header-anchor">#</a> 谈一谈HTTP协议优缺点</h2> <p>HTTP 特点：
一、灵活可扩展：1. 语法上只规定了基本格式：空格分隔单词，换行分隔字段等。 2. 传输形式上不仅可以传输文本、还可传输图片、视频等任意数据。</p> <p>二、可靠传输：HTTP是基于TCP/IP的，因此把这一特性继承了下来</p> <p>三、无状态：无状态也会减少网络开销</p> <p>四、请求-应答模式：就是一方发送消息，另一方接受消息或者响应。</p> <p>缺点：</p> <p>一、无状态：有时候，网站需要保存信息，比如购物系统，需要保留下客户的信息等，但是无状态无法做到保存信息。
二、明文传输：http报文是以文本形式传输，这让http的报文信息暴露给外界
三、队头阻塞：当http开启长连接时，公用同一个TCP，如果有一个连接请求时间过长，其他的请求只能处于阻塞状态。那么就会造成对头阻塞</p> <h2 id="http-1-1"><a href="#http-1-1" class="header-anchor">#</a> HTTP 1.1</h2> <p>HTTP 1.1</p> <ul><li>持久连接：TCP默认不关闭，可以被多个HTTP请求复用。</li> <li>管道机制：在同一个TCP中，客户端可以发送多个HTTP请求</li> <li>虚拟机：在一台物理机中存在多个虚拟机，共享同一个IP</li> <li>断点续传：在请求头中设置Range</li> <li>控制标识： E-tag/IF-None-Match, Last-Modified/IF-Unmodified-Sinced等缓存控制标识来控制缓存失效。</li> <li>方法： PUT/PATCH/OPTIONS/DELETE方法</li></ul> <h2 id="http-2-0"><a href="#http-2-0" class="header-anchor">#</a> HTTP 2.0</h2> <ul><li>二进制传输：将HTTP1.1的明文改为了二进制传输，头部信息称为头部信息帧，数据体称为数据帧</li> <li>头部压缩：HTTP1.1中可能出现头部几百甚至几千字节，请求体却只有几十字节的情况，HTTP2.0对此进行改善，将头部进行压缩处理。</li> <li>多路复用：在同一个TCP中，客户端和服务端可以发送多个HTTP请求，不会阻塞。解决了HTTP1.1中对头阻塞的问题</li> <li>服务器推送：服务器主动推送数据，不需要客户端发起请求。</li> <li>优先级设置：让服务器优先处理重要资源，提升用户体验。</li></ul> <h2 id="介绍http-缓存策略"><a href="#介绍http-缓存策略" class="header-anchor">#</a> 介绍HTTP 缓存策略</h2> <ol><li>检查缓存标识：当发起HTTP请求的时候，会先检查是否存在缓存结果和缓存标识</li> <li>向服务发起请求：如果没有缓存结果和缓存标识，或者已经失效，那么就向服务器发起请求</li> <li>强缓存：如果存在缓存结果和缓存标识，那么使用强缓存</li> <li>协商缓存：如果缓存结果失效，但存在缓存标识，则使用协商缓存</li></ol> <h3 id="内存缓存在哪里呢"><a href="#内存缓存在哪里呢" class="header-anchor">#</a> 内存缓存在哪里呢？</h3> <p>先从内存中取，再从硬盘中取资源。</p> <h3 id="协商缓存"><a href="#协商缓存" class="header-anchor">#</a> 协商缓存</h3> <ol><li><p>第一次发送HTTP请求，服务端会在报文中返回一个Last-Modidied 或者 Etag，Last-Modidied 是代表该资源在服务端最后修改的时间，</p></li> <li><p>如果服务器返回的是Last-Modidied，客户端再次发送请求时会在请求头中放入If-Modidied-Sinced字段，If-Modidied-Sinced 是客户端记住的资源在服务端最后修改的时间，如果和Last-Modidied一致则使用协商缓存，返回的状态为304</p></li> <li><p>如果服务返回的是E-tag，代表该资源的唯一标识，客户端再次发送请求时会在请求头中放入If-None-Match字段，If-None-Match 是客户端记住的资源的唯一标识，在下次发送给服务端，如果和Etag一致则使用协商缓存，返回的状态为304</p></li> <li><p>Etag 优先级高于Last-Modified，同时存在则只有Etag生效。</p></li></ol> <h2 id="http状态码"><a href="#http状态码" class="header-anchor">#</a> Http状态码</h2> <h3 id="_1xx"><a href="#_1xx" class="header-anchor">#</a> 1xx</h3> <p>请求正在处理</p> <h3 id="_2xx-请求成功"><a href="#_2xx-请求成功" class="header-anchor">#</a> 2xx：请求成功</h3> <p>200: 客户端请求被服务端成功处理并返回数据。
204：客户端请求被服务端成功处理但未返回数据。
206：客户端使用Content-Range进行范围请求，被服务端成功处理并返回数据。</p> <h3 id="_3xx-重定向"><a href="#_3xx-重定向" class="header-anchor">#</a> 3xx: 重定向</h3> <p>301：永久重定向，表示资源已经被分配了新的URL
302：临时重定向，表示资源临时分配到了新的URL
303：表示资源存在着另一个URL，需要用GET方法请求
304：表示协商缓存命中时，返回该状态码
307：临时重定向</p> <h3 id="_4xx-客户端错误"><a href="#_4xx-客户端错误" class="header-anchor">#</a> 4xx: 客户端错误</h3> <p>400：表示客户端请求地址或者请求参数错误
401：表示发送的请求需要通过HTTP认证的认证信息
403：表示请求被服务器拒绝。
404：表示服务器没有找到该资源
405：表示服务器不接受该请求方法</p> <h3 id="_5xx-服务端错误"><a href="#_5xx-服务端错误" class="header-anchor">#</a> 5xx: 服务端错误</h3> <p>500：表示服务端执行请求时发生了错误
502：表示服务器自身正常，但访问时出问题，具体不知道是什么问题。
503：表示服务器暂时处于超负荷或停止服务</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/knowledgeNotes/mianshi/4.html、css.html" class="prev">
          HTML、CSS
        </a></span> <span class="next"><a href="/knowledgeNotes/mianshi/6.浏览器.html">
          浏览器
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/knowledgeNotes/assets/js/app.5e018f91.js" defer></script><script src="/knowledgeNotes/assets/js/2.5cec4d22.js" defer></script><script src="/knowledgeNotes/assets/js/40.5c9d73f1.js" defer></script>
  </body>
</html>
