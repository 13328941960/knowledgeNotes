<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript | 前端知识体系</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/knowledgeNotes/favicon.ico">
    <meta name="description" content="JavaScript、浏览器、网络协议、面试题等基本知识点">
    
    <link rel="preload" href="/knowledgeNotes/assets/css/0.styles.65249e03.css" as="style"><link rel="preload" href="/knowledgeNotes/assets/js/app.e9a108aa.js" as="script"><link rel="preload" href="/knowledgeNotes/assets/js/2.5cec4d22.js" as="script"><link rel="preload" href="/knowledgeNotes/assets/js/33.3c5405ea.js" as="script"><link rel="prefetch" href="/knowledgeNotes/assets/js/10.886521f3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/11.73dd9e06.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/12.cdc81342.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/13.fabf43ff.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/14.db14e0b9.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/15.00007a22.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/16.cde7c6c6.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/17.d74208c1.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/18.74c98c57.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/19.7ec83398.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/20.deecaada.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/21.01fe2334.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/22.e21a3141.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/23.ba04fce3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/24.2c842fcf.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/25.c8e7731a.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/26.c36267a6.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/27.6d217e4f.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/28.757af084.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/29.442ce47b.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/3.f92fc910.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/30.47da38fb.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/31.3d9b70b4.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/32.fa7296e3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/34.72915ec5.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/35.e0ed3d55.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/36.d263ee8d.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/37.5c79acb4.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/38.69ec5847.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/39.eb800ee7.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/4.084eb4c2.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/40.9b0525ff.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/41.ba14e358.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/42.544893a3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/43.c5f1eb69.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/44.28fbb2d3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/5.9ecf4c9f.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/6.218adc9e.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/7.0f2a5424.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/8.6c2bf3bc.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/9.b5f79b79.js">
    <link rel="stylesheet" href="/knowledgeNotes/assets/css/0.styles.65249e03.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/knowledgeNotes/" class="home-link router-link-active"><!----> <span class="site-name">前端知识体系</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络协议</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架与库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>面试题</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledgeNotes/mianshi/1.js.html" aria-current="page" class="active sidebar-link">JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#变量和类型" class="sidebar-link">变量和类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#语言类型" class="sidebar-link">语言类型</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#变量在内存中的具体存储形式" class="sidebar-link">变量在内存中的具体存储形式</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#null-undefined-的区别" class="sidebar-link">null，undefined 的区别？</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#判断数据类型的各种方法。" class="sidebar-link">判断数据类型的各种方法。</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#_0-1-0-2-为什么不等于-0-3" class="sidebar-link">0.1 + 0.2 为什么不等于 0.3</a></li></ul></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#原型链" class="sidebar-link">原型链</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#原型对象和构造函数有何关系" class="sidebar-link">原型对象和构造函数有何关系？</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#能不能描述一下原型链" class="sidebar-link">能不能描述一下原型链？</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#能不能手动实现一下instanceof" class="sidebar-link">能不能手动实现一下instanceof</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#js如何实现继承" class="sidebar-link">JS如何实现继承？</a></li></ul></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#作用域" class="sidebar-link">作用域</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#词法作用域和动态作用域" class="sidebar-link">词法作用域和动态作用域</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#作用域和作用域链" class="sidebar-link">作用域和作用域链</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#执行上下文栈" class="sidebar-link">执行上下文栈</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#this" class="sidebar-link">This</a></li></ul></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#闭包" class="sidebar-link">闭包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#什么是闭包" class="sidebar-link">什么是闭包</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#闭包产生的原因" class="sidebar-link">闭包产生的原因？</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#闭包有哪些表现形式" class="sidebar-link">闭包有哪些表现形式?</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#怎么清除闭包" class="sidebar-link">怎么清除闭包</a></li></ul></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#执行机制" class="sidebar-link">执行机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#宏任务和微任务" class="sidebar-link">宏任务和微任务</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#eventloop" class="sidebar-link">EventLoop</a></li></ul></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#跨域" class="sidebar-link">跨域</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#事件" class="sidebar-link">事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#事件委托是什么" class="sidebar-link">事件委托是什么？</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/mianshi/1.js.html#什么是事件冒泡" class="sidebar-link">什么是事件冒泡？</a></li></ul></li></ul></li><li><a href="/knowledgeNotes/mianshi/2.es6.html" class="sidebar-link">ES6</a></li><li><a href="/knowledgeNotes/mianshi/3.编码题.html" class="sidebar-link">编码题</a></li><li><a href="/knowledgeNotes/mianshi/4.html、css.html" class="sidebar-link">HTML、CSS</a></li><li><a href="/knowledgeNotes/mianshi/5.网络协议.html" class="sidebar-link">网络协议</a></li><li><a href="/knowledgeNotes/mianshi/6.浏览器.html" class="sidebar-link">浏览器</a></li><li><a href="/knowledgeNotes/mianshi/7.框架.html" class="sidebar-link">框架</a></li><li><a href="/knowledgeNotes/mianshi/9.性能优化.html" class="sidebar-link">前端性能优化</a></li><li><a href="/knowledgeNotes/mianshi/10.前端安全.html" class="sidebar-link">前端安全</a></li><li><a href="/knowledgeNotes/mianshi/12.前端工程.html" class="sidebar-link">webpack</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h1> <h2 id="变量和类型"><a href="#变量和类型" class="header-anchor">#</a> 变量和类型</h2> <h3 id="语言类型"><a href="#语言类型" class="header-anchor">#</a> 语言类型</h3> <p>number/string/boolean/undefined/null/Symbol/bigInt/Object</p> <h3 id="变量在内存中的具体存储形式"><a href="#变量在内存中的具体存储形式" class="header-anchor">#</a> 变量在内存中的具体存储形式</h3> <ol><li>局部变量的基本类型储存在栈中，引用类型的指针储存在栈中，值储存在堆中</li> <li>全局变量、闭包中的基本类型和引用类型地址都是储存在栈中，值储存在堆中</li></ol> <h3 id="null-undefined-的区别"><a href="#null-undefined-的区别" class="header-anchor">#</a> null，undefined 的区别？</h3> <p>null代表空，undefined代表未定义
如果一个变量在申明时能预知未来是个对象，但目前未知，可以设置其为null
如果一个变量在申明时没有为其赋值，那么它会自动被赋值为undefined;</p> <h3 id="判断数据类型的各种方法。"><a href="#判断数据类型的各种方法。" class="header-anchor">#</a> 判断数据类型的各种方法。</h3> <p>1.typeof可以用于判断基本类型和函数。优点：简洁方便。缺点：只能判断基本类型和函数。
2.instanceOf。优点：可以判断所有引用类型，但不能判断基本类型
3.Object.prototype.toString.call(obj)。优点：可以判断所有类型</p> <h3 id="_0-1-0-2-为什么不等于-0-3"><a href="#_0-1-0-2-为什么不等于-0-3" class="header-anchor">#</a> 0.1 + 0.2 为什么不等于 0.3</h3> <p>JS Number类型值是根据IEEE 754规范，采用双精度存储，即会将数字转成二进制存储，
0.1 和 0.2 在转换成二进制后会无限循环，要进行舍入，导致精度丢失。
在相加的时候同理，还会进行一次舍入，再次导致精度丢失。</p> <h2 id="原型链"><a href="#原型链" class="header-anchor">#</a> 原型链</h2> <h3 id="原型对象和构造函数有何关系"><a href="#原型对象和构造函数有何关系" class="header-anchor">#</a> 原型对象和构造函数有何关系？</h3> <ul><li><p>原型对象会出现在每一个对象上，假如我们创建一个新的函数时，函数就会有一个prototype对象。</p></li> <li><p>原型对象里面有一个constuctor属性，指向构造函数。</p></li> <li><p>创建一个实例对象后，实例对象上有一个__proto__属性，指向构造函数的原型对象。</p></li></ul> <p><strong>proto</strong> 和 prototype的区别是，__proto__是每个实例上的属性而prototype只存在于构造函数中。</p> <h3 id="能不能描述一下原型链"><a href="#能不能描述一下原型链" class="header-anchor">#</a> 能不能描述一下原型链？</h3> <p>JavaScript实例对象通过 <strong>proto</strong> 指向原型prototype，原型protoype也可以通过 <strong>proto</strong> 继续指向上一级，最顶层是Oject，Object.__proto__指向null，这样就形成了一个原型指向的链条, 即原型链。</p> <h3 id="能不能手动实现一下instanceof"><a href="#能不能手动实现一下instanceof" class="header-anchor">#</a> 能不能手动实现一下instanceof</h3> <p>原理：通过while循环判断构造函数的原型是否出现在实例的原型链上</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">function</span> <span class="token function">myInstanceOf</span><span class="token punctuation">(</span><span class="token parameter">i<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> i <span class="token operator">!==</span> <span class="token string">'object'</span> <span class="token operator">||</span> i <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> proto <span class="token operator">=</span> i<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>
    <span class="token keyword">let</span> prototype <span class="token operator">=</span> c<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>proto <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>proto <span class="token operator">===</span> prototype<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">myInstanceOf</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
</code></pre></div><h3 id="js如何实现继承"><a href="#js如何实现继承" class="header-anchor">#</a> JS如何实现继承？</h3> <ol><li>原型链继承</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">SuperClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>friends <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'王志翔'</span><span class="token punctuation">,</span> <span class="token string">'李明'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">SubClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">SubClass</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SuperClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> class1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">var</span> class2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

class1<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'小花'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>class1<span class="token punctuation">.</span>friends<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['王志翔', '李明', '小花']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>class2<span class="token punctuation">.</span>friends<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['王志翔', '李明', '小花']</span>

<span class="token comment">// 缺点1： 无法向父级传参</span>
<span class="token comment">// 缺点2：因为共享的特性，导致引用类型的属性被所有共享；</span>
</code></pre></div><ol start="2"><li>构造函数继承</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">SuperClass</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span> <span class="token comment">// 缺点：每次创建对象，都要创建一次方法</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">SubClass</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">SuperClass</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubClass</span><span class="token punctuation">(</span><span class="token string">'王志翔'</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><ol start="3"><li>组合继承</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">SuperClass</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>friends <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;李华&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;小明&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">SuperClass</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">SubClass</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">SuperClass</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">SubClass</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SuperClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SubClass</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> SubClass<span class="token punctuation">;</span>
<span class="token class-name">SubClass</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayAge</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> class1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubClass</span><span class="token punctuation">(</span><span class="token string">'小花'</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> class2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubClass</span><span class="token punctuation">(</span><span class="token string">'小白'</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span>

class1<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
class1<span class="token punctuation">.</span><span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

class1<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'小东'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>class1<span class="token punctuation">.</span>friends<span class="token punctuation">)</span> <span class="token comment">// ['王志翔', '李明', '小东']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>class2<span class="token punctuation">.</span>friends<span class="token punctuation">)</span> <span class="token comment">// ['王志翔', '李明']</span>
</code></pre></div><ol start="4"><li>原型继承</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Inherit</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token class-name">Son</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> o<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">'王'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">car</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'宝马'</span><span class="token punctuation">,</span><span class="token string">'法拉利'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> son1 <span class="token operator">=</span> <span class="token function">Inherit</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> son2 <span class="token operator">=</span> <span class="token function">Inherit</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
son1<span class="token punctuation">.</span>car<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'奔驰'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son2<span class="token punctuation">)</span>
<span class="token comment">// 缺点：引用属性会在所有实例对象中共享。</span>
</code></pre></div><ol start="5"><li>寄生式继承</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Inherit</span><span class="token punctuation">(</span><span class="token parameter">personObj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> son <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>personObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
  son<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> son
<span class="token punctuation">}</span>

<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">'王'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">car</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'宝马'</span><span class="token punctuation">,</span><span class="token string">'法拉利'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> son1 <span class="token operator">=</span> <span class="token function">Inherit</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> son2 <span class="token operator">=</span> <span class="token function">Inherit</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
son1<span class="token punctuation">.</span>car<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'奔驰'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son2<span class="token punctuation">)</span>
</code></pre></div><ol start="6"><li>组合寄生式继承</li></ol> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">function</span> <span class="token function">inheritPrototype</span><span class="token punctuation">(</span><span class="token parameter">subType<span class="token punctuation">,</span> superType</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// subType.prototype = Object.create(superType &amp;&amp; superType.prototype, {</span>
    <span class="token comment">// constructor: {</span>
      <span class="token comment">// value: subType,</span>
      <span class="token comment">// enumerable: false,</span>
      <span class="token comment">// writable: true,</span>
    <span class="token comment">// }</span>
    <span class="token comment">//});</span>
    subType<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> subType<span class="token punctuation">;</span>
    subType<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>superType<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">SuperType</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>colors <span class="token operator">=</span>  <span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token class-name">SuperType</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">SubType</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">SuperType</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">inheritPrototype</span><span class="token punctuation">(</span>SubType<span class="token punctuation">,</span> SuperType<span class="token punctuation">)</span>

  <span class="token class-name">SubType</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayAge</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">var</span> subType <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token string">'王志翔'</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  subType<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  subType<span class="token punctuation">.</span><span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="作用域"><a href="#作用域" class="header-anchor">#</a> 作用域</h2> <h3 id="词法作用域和动态作用域"><a href="#词法作用域和动态作用域" class="header-anchor">#</a> 词法作用域和动态作用域</h3> <p>词法作用域：书写代码时，作用域就固定了。比如：写了个函数，那么在定义函数的时候就决定了作用域是什么样的。
动态作用域：函数的作用域是在函数调用的时候才决定的。</p> <h3 id="作用域和作用域链"><a href="#作用域和作用域链" class="header-anchor">#</a> 作用域和作用域链</h3> <ol><li>作用域是存储和维护变量的区域，并且规定了变量的访问权限。</li> <li>在当前作用域访一个变量的时候如果没有查询到，那么就会向上一级作用域查询，直到全局作用域为止，如果全局作用域还没查询到会报错，这样的一条访问链就是作用域链。</li></ol> <h3 id="执行上下文栈"><a href="#执行上下文栈" class="header-anchor">#</a> 执行上下文栈</h3> <ol><li>js执行函数前会先进行准备工作，这样的工作用专业术语就叫执行上下文，这个过程要用到栈，将函数的上下文放入上下文栈中</li> <li>在执行一个脚本的时候，js会将全局上下文压入栈中</li></ol> <h3 id="this"><a href="#this" class="header-anchor">#</a> This</h3> <ul><li>在全局作用域下，this指向window，严格模式下是undefined</li> <li>在全局作用域中的函数，这时候函数中的this，指向window</li> <li>在对象中的函数中的this, 指向该对象</li> <li>实例对象的this指向实例</li> <li>dom的监听事件中，this指向dom</li> <li>箭头函数中的this指向上层的普通函数的this，如果上层没有普通函数则指向window。</li></ul> <h2 id="闭包"><a href="#闭包" class="header-anchor">#</a> 闭包</h2> <h3 id="什么是闭包"><a href="#什么是闭包" class="header-anchor">#</a> 什么是闭包</h3> <p>当一个函数可以记住并访问所在的词法作用域时，这个词法作用域会被函数所引用，这个引用就是闭包，即使函数是在当前词法作用域之外执行。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> baz<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>正常来说，在作用域外部执行的话，在作用域外无法访问到作用域内的变量的，但是这里因为存在闭包的原因。</p> <p>foo函数在执行完之后，因为浏览器的垃圾回收机制，会摧毁foo同时作用域也会摧毁。</p> <p>然而bar却还是能输出1，这完全归功于1，使得bar的闭包，foo的作用域得以保存。</p> <h3 id="闭包产生的原因"><a href="#闭包产生的原因" class="header-anchor">#</a> 闭包产生的原因？</h3> <p>产生闭包的原因和作用域有着莫大的关联。</p> <p>当访问一个变量的时候，解释器就会在当前作用域查找，如果找不到会向上一级查找，直到全局作用域。</p> <p>在这样的一个过程中一旦函数去访问外部作用域就产生了闭包。</p> <h3 id="闭包有哪些表现形式"><a href="#闭包有哪些表现形式" class="header-anchor">#</a> 闭包有哪些表现形式?</h3> <ol><li>在一个函数中，内部的函数去访问其作用域的变量。</li> <li>作为函数参数传递</li> <li>定时器、事件监听、ajax请求、任何异步中、自执行函数，只要使用了回调函数，实际上就是在使用闭包</li></ol> <h3 id="怎么清除闭包"><a href="#怎么清除闭包" class="header-anchor">#</a> 怎么清除闭包</h3> <p>在不需要的时候，将其设置为null</p> <h2 id="执行机制"><a href="#执行机制" class="header-anchor">#</a> 执行机制</h2> <h3 id="宏任务和微任务"><a href="#宏任务和微任务" class="header-anchor">#</a> 宏任务和微任务</h3> <p>在js事件循环中有两种任务，分别为宏任务和微任务。
宏任务和微任务我来做个比喻，比如我今天在家要做家务，做家务就是宏任务，然后我先把衣服放入洗衣机，设定一个时间，然后我去拖地，这样洗衣服就像作为一个微任务在异步执行着，到点了洗衣机会提醒我去晒衣服。</p> <h3 id="eventloop"><a href="#eventloop" class="header-anchor">#</a> EventLoop</h3> <p>EventLoop即事件循环，是一种解决JS单线程运行时不会阻塞的机制。
js事件循环，script内的所有代码作为第一个宏任务被压入执行上下文栈中，接着主线程开始执行，
宏任务执行结束后，主线程会去看看异步队列中是否有可执行的微任务，比方一个Promise.then内部的代码，直到异步队列清空为止
又开始执行新的宏任务，比如setTimeout、setInterval、UI 渲染、I/O</p> <h2 id="跨域"><a href="#跨域" class="header-anchor">#</a> 跨域</h2> <ol><li>CORS技术</li></ol> <p>在发送http请求的时候，在头部加上，origin: 来源域，</p> <p>服务器如果认同这个请求 Access-control-Allow-Origin: 来源域</p> <ol start="2"><li>JSONP</li></ol> <h2 id="事件"><a href="#事件" class="header-anchor">#</a> 事件</h2> <h3 id="事件委托是什么"><a href="#事件委托是什么" class="header-anchor">#</a> 事件委托是什么？</h3> <p>将原本应该挂在自身的事件委托到父级元素上面，这样就事件委托，比如ul里面有多个li，我们需要点击其中一个li让元素里面的字体变红，
这时可以通过事件委托，讲这个点击事情搬到ul上面，通过事件监听，点击每个li获取到e.target.style.color设置成red.</p> <h3 id="什么是事件冒泡"><a href="#什么是事件冒泡" class="header-anchor">#</a> 什么是事件冒泡？</h3> <p>点击事件，有三个阶段，首先是捕获阶段、目标阶段、冒泡阶段
捕获阶段，事件会向下传递
冒泡阶段，事件会向上传递</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/knowledgeNotes/TypeScript/advanced-types.html" class="prev">
          高级类型
        </a></span> <span class="next"><a href="/knowledgeNotes/mianshi/2.es6.html">
          ES6
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/knowledgeNotes/assets/js/app.e9a108aa.js" defer></script><script src="/knowledgeNotes/assets/js/2.5cec4d22.js" defer></script><script src="/knowledgeNotes/assets/js/33.3c5405ea.js" defer></script>
  </body>
</html>
