<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>https | 前端知识体系</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/knowledgeNotes/favicon.ico">
    <meta name="description" content="JavaScript、浏览器、网络协议、面试题等基本知识点">
    
    <link rel="preload" href="/knowledgeNotes/assets/css/0.styles.64ebfe11.css" as="style"><link rel="preload" href="/knowledgeNotes/assets/js/app.62fdb92b.js" as="script"><link rel="preload" href="/knowledgeNotes/assets/js/2.53f1d7f8.js" as="script"><link rel="preload" href="/knowledgeNotes/assets/js/7.dcfc7606.js" as="script"><link rel="prefetch" href="/knowledgeNotes/assets/js/10.7f4c0454.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/11.9b8da9ed.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/12.6aa225ce.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/13.d48e6556.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/14.f1d38083.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/15.779165f5.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/16.ca4df33e.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/17.16828c35.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/18.87f2c094.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/19.499058bc.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/20.b6f2aa0f.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/21.23804236.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/22.ac5704f6.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/23.a47a0d33.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/24.baca3822.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/25.0ae4bbcd.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/26.341ef546.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/27.dc046beb.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/28.e7868730.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/29.d688caa7.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/3.18fa004f.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/30.40da3c45.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/31.66330c22.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/32.9fb87378.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/33.5d04c241.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/34.3fda2b29.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/35.bafd86c1.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/36.f2e3a99e.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/37.c45b9fe3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/38.209da85f.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/39.044c39a2.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/4.f360705a.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/40.ce999257.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/41.bb229357.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/42.7ff994e5.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/43.148fcb76.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/44.bec5f867.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/45.5f149ba5.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/46.ccfce139.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/47.a7aa1bea.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/48.38157b22.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/49.d163de48.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/5.80838c68.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/50.d9ef6801.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/6.a35f48c1.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/8.0cd994c1.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/9.0b838162.js">
    <link rel="stylesheet" href="/knowledgeNotes/assets/css/0.styles.64ebfe11.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/knowledgeNotes/" class="home-link router-link-active"><!----> <span class="site-name">前端知识体系</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>编程规范</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>网络协议</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledgeNotes/net/1.网络基础.html" class="sidebar-link">1.网络基础</a></li><li><a href="/knowledgeNotes/net/2.http.html" class="sidebar-link">2. HTTP协议</a></li><li><a href="/knowledgeNotes/net/3.https.html" aria-current="page" class="active sidebar-link">https</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/net/3.https.html#http的缺点" class="sidebar-link">http的缺点</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/net/3.https.html#http-加密-认证-完整性保护-https" class="sidebar-link">http + 加密 + 认证 + 完整性保护 = https</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/net/3.https.html#ssl" class="sidebar-link">SSL</a></li></ul></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/net/3.https.html#https-的安全通信机制" class="sidebar-link">https 的安全通信机制</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架与库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试题</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="https"><a href="#https" class="header-anchor">#</a> https</h1> <h2 id="http的缺点"><a href="#http的缺点" class="header-anchor">#</a> http的缺点</h2> <ol><li>使用明文通信（不加密），容易被窃取信息</li> <li>不验证通信方的身份，因此容易被伪装</li> <li>无法证明报文的完整性，所以有可能已遭篡改</li></ol> <h2 id="http-加密-认证-完整性保护-https"><a href="#http-加密-认证-完整性保护-https" class="header-anchor">#</a> http + 加密 + 认证 + 完整性保护 = https</h2> <p>加密及认证机制的HTTP称为HTTPS（HTTP Secure）.</p> <p>HTTPS只是HTTP<strong>通信接口部分</strong>用SSL（安全套接层）和TLS（传输层安全）协议代替而已。</p> <p>通常HTTP直接和TCP通信。当使用SSL时，则演变成先和SSL通信，再由SSL通信。</p> <h3 id="ssl"><a href="#ssl" class="header-anchor">#</a> SSL</h3> <p>SSL采用一种叫做公开密匙加密的加密处理方式</p> <ul><li>共享密钥加密</li></ul> <p>加密和解密同用一个密钥的方式称为共享密钥加密，也被叫做对称密钥加密。</p> <p>困境：任何人只要持有密钥就能解密了。如果密钥被攻击者获得，那加密也就失去了意义。</p> <ul><li>公开密钥加密方式</li></ul> <p>公开密钥加密使用一对非对称的密钥。一把叫做私有密钥（private key），另一把叫做公开密钥（public key）。</p> <p>使用公开密匙的方式，发送密文的一方使用对方的公开密匙进行加密处理，对方收到被加密的信息后，再使用自己的私有密匙进行解密。</p> <ul><li>HTTPS 采用混合加密机制</li></ul> <p>HTTPS 采用共享密钥加密和公开密钥加密两者并用的混合加密机制</p> <p>在交换密钥环节使用公开密钥加密方式，之后的建立通信交换报文阶段则使用共享密钥加密方式</p> <p>公开密钥加密方式还是存在一些问题的。那就是无法证明公开密钥本身就是货真价实的公开密钥</p> <ul><li>证明公开密匙的正确性</li></ul> <p>为了解决上述问题，可以使用由数字证书认证机构（CA,Certificate Authority）和其相关机关颁发的公开密钥证书。</p> <p>数字证书认证机构处于客户端与服务器双方都可信赖的第三方机构的立场上，威瑞信（VeriSign）就是其中一家非常有名的数字证书认证机构</p> <p>数字证书认证机构的业务流程：</p> <ol><li>公开密匙的申请</li> <li>确认申请者身份，对已申请的公开密匙做数字签名</li> <li>分配已签名的公开密匙，并将该公开密匙放入公匙证书后绑定在一起。</li></ol> <p>服务器申请到证书后会发给客户端</p> <p>客户端接到证书后，会对证书上的签名进行验证，一旦验证通过，客户端可明确两件事：</p> <ol><li>证书机构是真实有效的</li> <li>服务器的公开密钥是值得信赖的</li></ol> <p><img src="/knowledgeNotes/assets/img/1652082428.4243c4b6.png" alt="An image"></p> <ul><li>可证明组织真实性的 EV SSL 证书</li></ul> <p>证书的作用:</p> <ol><li>证明作为通信一方的服务器是否规范，</li> <li>可确认对方服务器背后运营的企业是否真实存在。</li></ol> <p>拥有该特性的证书就是 EV SSL证书（扩展验证 SSL 证书）。</p> <h2 id="https-的安全通信机制"><a href="#https-的安全通信机制" class="header-anchor">#</a> https 的安全通信机制</h2> <ol><li><p>客户端: 发送 <strong>Client Hello</strong> 报文开始 SSL通信。报文中包含客户端支持的 <strong>SSL的指定版本</strong>、<strong>加密组件</strong>（Cipher Suite）列表（所 使用的加密算法及密钥长度等）。</p></li> <li><p>服务器: 可进行 SSL通信时，会以 <strong>Server Hello</strong> 报文作为应答。在报文中包含 <strong>SSL版本以及加密组件</strong>。服务器的加密组件内容是从接收到的客户端加密组件内筛选出来的。</p></li> <li><p>服务器: 发送 <strong>Certificate</strong> 报文。报文中包含<strong>公开密钥证书</strong>。</p></li> <li><p>服务器: 发送 <strong>Server Hello Done</strong> 报文通知客户端，最初阶段的 SSL握手<strong>协商部分结束</strong>。</p></li> <li><p>客户端: SSL第一次握手结束之后，以 <strong>Client Key Exchange</strong> 报文作为回应。报文中包含通信加密中使用的一种被称为 <strong>Pre-master secret 的随机密码串</strong>。该报文已用步骤 3 中的公开密钥进行加密。</p></li> <li><p>客户端: 发送 <strong>Change Cipher Spec</strong> 报文。该报文会提示服务器，<strong>在此报文之后的通信</strong>会采用 <strong>Pre-master secret 密钥加密</strong>。</p></li> <li><p>客户端: 发送 <strong>Finished</strong> 报文。该报文包含<strong>连接至今全部报文的整体校验值</strong>。这次握手协商<strong>是否能够成功</strong>，要以<strong>服务器</strong>是否能够<strong>正确解密</strong>该报文作为判定标准。</p></li> <li><p>服务器: 同样发送 <strong>Change Cipher Spec</strong> 报文。</p></li> <li><p>服务器: 同样发送 <strong>Finished</strong> 报文。</p></li> <li><p>SSL连接就算建立完成。当然，通信会受到 SSL的保护。从此处开始进行应用 层协议的通信，即发送 HTTP 请求。</p></li> <li><p>应用层协议通信，即发送 HTTP 响应。</p></li> <li><p>最后由客户端断开连接, 发送 close_notify 报文。这步之后再发送 TCP FIN 报文来关闭与 TCP 的通信。</p></li></ol> <p>在以上流程中，应用层发送数据时会附加一种叫做 <strong>MAC</strong>（Message Authentication Code）的报文摘要。MAC 能够查知报文<strong>是否遭到篡改</strong>，从而<strong>保护报文的完整性</strong>。</p> <p>以下是服务器使用公开密钥证书建立https通信的整个过程</p> <p><img src="/knowledgeNotes/assets/img/1652087889.248f9251.png" alt="An image"></p> <ul><li>SSL 和 TLS</li></ul> <p>IETF 以 SSL3.0 为基准，后又制定了 TLS1.0、TLS1.1 和 TLS1.2。TSL是以 SSL为原型开发的协议，有时会统一称该协议 为 SSL。当前主流的版本是 SSL3.0 和 TLS1.0。</p> <ul><li>SSL 速度慢吗?</li></ul> <p>HTTPS 也存在一些问题，那就是当使用 SSL时，它的处理速度会变慢.</p> <ol><li><p>通信慢</p></li> <li><p>大量消耗 CPU 及内存等资源，导致处理速度变慢。</p></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/knowledgeNotes/net/2.http.html" class="prev">
        2. HTTP协议
      </a></span> <span class="next"><a href="/knowledgeNotes/designMode/1.单例模式.html">
        单例模式
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/knowledgeNotes/assets/js/app.62fdb92b.js" defer></script><script src="/knowledgeNotes/assets/js/2.53f1d7f8.js" defer></script><script src="/knowledgeNotes/assets/js/7.dcfc7606.js" defer></script>
  </body>
</html>
