<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React编程规范 | 前端知识体系</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/knowledgeNotes/favicon.ico">
    <meta name="description" content="JavaScript、浏览器、网络协议、面试题等基本知识点">
    
    <link rel="preload" href="/knowledgeNotes/assets/css/0.styles.65249e03.css" as="style"><link rel="preload" href="/knowledgeNotes/assets/js/app.ff98e3ee.js" as="script"><link rel="preload" href="/knowledgeNotes/assets/js/2.5cec4d22.js" as="script"><link rel="preload" href="/knowledgeNotes/assets/js/49.97281cf4.js" as="script"><link rel="prefetch" href="/knowledgeNotes/assets/js/10.0e94072a.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/11.63c4a176.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/12.683a2e21.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/13.fabf43ff.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/14.db14e0b9.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/15.a3d4504b.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/16.ddc0eba7.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/17.6983ebe9.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/18.9d50af36.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/19.cdcac6e3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/20.64fa44fd.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/21.2419df31.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/22.8456f475.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/23.22681ae5.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/24.09db047c.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/25.b35149b9.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/26.c114ef23.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/27.50d7aa3e.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/28.00be1b2c.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/29.28513891.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/3.35785db3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/30.11919ba2.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/31.66bc3185.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/32.a1d6b12a.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/33.b51a629c.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/34.853b3a10.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/35.34ad6895.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/36.f749baf9.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/37.929de205.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/38.b765a788.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/39.654a482d.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/4.7d847185.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/40.d7d42760.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/41.0e407fa4.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/42.bad9095e.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/43.a62b4545.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/44.1a9d126e.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/45.f054ddda.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/46.0090e396.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/47.1201a35d.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/48.bf148582.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/5.9ecf4c9f.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/50.c02bf3ab.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/6.218adc9e.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/7.24ba6bb3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/8.216ad9a2.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/9.61b72c69.js">
    <link rel="stylesheet" href="/knowledgeNotes/assets/css/0.styles.65249e03.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/knowledgeNotes/" class="home-link router-link-active"><!----> <span class="site-name">前端知识体系</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>编程规范</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledgeNotes/standard/es6.html" class="sidebar-link">JavaScript语言编码规范(ES6)</a></li><li><a href="/knowledgeNotes/standard/react.html" aria-current="page" class="active sidebar-link">React编程规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/standard/react.html#基本规范" class="sidebar-link">基本规范</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/standard/react.html#创建模块" class="sidebar-link">创建模块</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/standard/react.html#命名" class="sidebar-link">命名</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/standard/react.html#声明模块" class="sidebar-link">声明模块</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/standard/react.html#代码对齐" class="sidebar-link">代码对齐</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/standard/react.html#单引号还是双引号" class="sidebar-link">单引号还是双引号</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/standard/react.html#空格" class="sidebar-link">空格</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/standard/react.html#属性" class="sidebar-link">属性</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/standard/react.html#引用" class="sidebar-link">引用</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/standard/react.html#括号" class="sidebar-link">括号</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/standard/react.html#标签" class="sidebar-link">标签</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/standard/react.html#函数" class="sidebar-link">函数</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/standard/react.html#模块生命周期" class="sidebar-link">模块生命周期</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/standard/react.html#a11y" class="sidebar-link">A11Y</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/standard/react.html#hook" class="sidebar-link">Hook</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络协议</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架与库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试题</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react编程规范"><a href="#react编程规范" class="header-anchor">#</a> React编程规范</h1> <h2 id="基本规范"><a href="#基本规范" class="header-anchor">#</a> 基本规范</h2> <ul><li>每个文件只写一个模块.</li> <li>但是多个无状态模块可以放在单个文件中. eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-multi-comp.md" target="_blank" rel="noopener noreferrer">react/no-multi-comp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.
推荐使用JSX语法.</li></ul> <h2 id="创建模块"><a href="#创建模块" class="header-anchor">#</a> 创建模块</h2> <ul><li>如果你的模块没有状态或是没有引用<code>refs</code>， 推荐使用普通函数（非箭头函数）而不是类:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// bad</span>
<span class="token keyword">class</span> <span class="token class-name">Listing</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>hello<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// bad (relying on function name inference is discouraged)</span>
<span class="token keyword">const</span> <span class="token function-variable function">Listing</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> hello <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>hello<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">function</span> <span class="token function">Listing</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> hello <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>hello<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="命名"><a href="#命名" class="header-anchor">#</a> 命名</h2> <ul><li><p><strong>文件名</strong>: 文件名使用帕斯卡命名. 如, <code>ReservationCard.jsx</code>.</p></li> <li><p><strong>引用命名</strong>: React模块名使用帕斯卡命名，实例使用骆驼式命名. eslint: <a href="https://github.com/jsx-eslint/eslint-plugin-react/blob/master/docs/rules/jsx-pascal-case.md" target="_blank" rel="noopener noreferrer">react/jsx-pascal-case<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token keyword">import</span> reservationCard <span class="token keyword">from</span> <span class="token string">'./ReservationCard'</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">import</span> ReservationCard <span class="token keyword">from</span> <span class="token string">'./ReservationCard'</span><span class="token punctuation">;</span>

<span class="token comment">// bad</span>
<span class="token keyword">const</span> ReservationItem <span class="token operator">=</span> <span class="token operator">&lt;</span>ReservationCard <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> reservationItem <span class="token operator">=</span> <span class="token operator">&lt;</span>ReservationCard <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><strong>模块命名</strong>: 模块使用当前文件名一样的名称. 比如 <code>ReservationCard.jsx</code> 应该包含名为 <code>ReservationCard</code>的模块. 但是，如果整个文件夹是一个模块，使用 <code>index.js</code>作为入口文件，然后直接使用 <code>index.js</code> 或者文件夹名作为模块的名称:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token keyword">import</span> Footer <span class="token keyword">from</span> <span class="token string">'./Footer/Footer'</span><span class="token punctuation">;</span>

<span class="token comment">// bad</span>
<span class="token keyword">import</span> Footer <span class="token keyword">from</span> <span class="token string">'./Footer/index'</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">import</span> Footer <span class="token keyword">from</span> <span class="token string">'./Footer'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><strong>高阶模块命名</strong>: 对于生成一个新的模块，其中的模块名 <code>displayName</code> 应该为高阶模块名和传入模块名的组合. 例如, 高阶模块 <code>withFoo()</code>, 当传入一个 <code>Bar</code> 模块的时候， 生成的模块名 <code>displayName</code> 应该为 <code>withFoo(Bar)</code>.</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>为什么？一个模块的 <code>displayName</code> 可能会在开发者工具或者错误信息中使用到，因此有一个能清楚的表达这层关系的值能帮助我们更好的理解模块发生了什么，更好的<code>Debug</code>.</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">withFoo</span><span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">WithFoo</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>WrappedComponent <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> foo <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">withFoo</span><span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">WithFoo</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>WrappedComponent <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> foo <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> wrappedComponentName <span class="token operator">=</span> WrappedComponent<span class="token punctuation">.</span>displayName
    <span class="token operator">||</span> WrappedComponent<span class="token punctuation">.</span>name
    <span class="token operator">||</span> <span class="token string">'Component'</span><span class="token punctuation">;</span>

  WithFoo<span class="token punctuation">.</span>displayName <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">withFoo(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>wrappedComponentName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> WithFoo<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><strong>属性命名</strong>: 避免使用<code>DOM</code>相关的属性来用作其他的用途。</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>为什么？对于<code>style</code> 和 <code>className</code>这样的属性名，我们都会默认它们代表一些特殊的含义，如元素的样式，<code>CSS</code> <code>class</code>的名称。在你的应用中使用这些属性来表示其他的含义会使你的代码更难阅读，更难维护，并且可能会引起<code>bug</code>。</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>MyComponent style<span class="token operator">=</span><span class="token string">&quot;fancy&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>MyComponent variant<span class="token operator">=</span><span class="token string">&quot;fancy&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h2 id="声明模块"><a href="#声明模块" class="header-anchor">#</a> 声明模块</h2> <ul><li>不要使用 <code>displayName</code> 来命名<code>React</code>模块，而是使用引用来命名模块， 如 <code>class</code> 名称.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">displayName</span><span class="token operator">:</span> <span class="token string">'ReservationCard'</span><span class="token punctuation">,</span>
  <span class="token comment">// stuff goes here</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ReservationCard</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>不要使用 <code>require</code> 方式来引用组件 或者 图片，而是使用 <code>es6</code>模块的标准语法</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token keyword">const</span> qrCodeImg <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/assets/img/enter.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>qrCodeImg<span class="token punctuation">}</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token keyword">import</span> qrCodeImg <span class="token keyword">from</span> <span class="token string">'@/assets/img/enter.png'</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>qrCodeImg<span class="token punctuation">}</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h2 id="代码对齐"><a href="#代码对齐" class="header-anchor">#</a> 代码对齐</h2> <ul><li>遵循以下的JSX语法缩进/格式. eslint: <a href="https://github.com/jsx-eslint/eslint-plugin-react/blob/master/docs/rules/jsx-closing-bracket-location.md" target="_blank" rel="noopener noreferrer">react/jsx-closing-bracket-location<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/jsx-eslint/eslint-plugin-react/blob/master/docs/rules/jsx-closing-tag-location.md" target="_blank" rel="noopener noreferrer">react/jsx-closing-tag-location<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>Foo superLongParam<span class="token operator">=</span><span class="token string">&quot;bar&quot;</span>
     anotherSuperLongParam<span class="token operator">=</span><span class="token string">&quot;baz&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good, 有多行属性的话, 新建一行关闭标签</span>
<span class="token operator">&lt;</span>Foo
  superLongParam<span class="token operator">=</span><span class="token string">&quot;bar&quot;</span>
  anotherSuperLongParam<span class="token operator">=</span><span class="token string">&quot;baz&quot;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// 若能在一行中显示, 直接写成一行</span>
<span class="token operator">&lt;</span>Foo bar<span class="token operator">=</span><span class="token string">&quot;bar&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// 子元素按照常规方式缩进</span>
<span class="token operator">&lt;</span>Foo
  superLongParam<span class="token operator">=</span><span class="token string">&quot;bar&quot;</span>
  anotherSuperLongParam<span class="token operator">=</span><span class="token string">&quot;baz&quot;</span>
<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Quux <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Foo<span class="token operator">&gt;</span>
</code></pre></div><h2 id="单引号还是双引号"><a href="#单引号还是双引号" class="header-anchor">#</a> 单引号还是双引号</h2> <ul><li>对于<code>JSX</code>属性值总是使用双引号(<code>&quot;</code>), 其他均使用单引号(<code>'</code>). eslint: <a href="https://eslint.org/docs/latest/rules/jsx-quotes" target="_blank" rel="noopener noreferrer">jsx-quotes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>为什么? <code>HTML</code>属性也是用双引号, 因此<code>JSX</code>的属性也遵循此约定.</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>Foo bar<span class="token operator">=</span><span class="token string">'bar'</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>Foo bar<span class="token operator">=</span><span class="token string">&quot;bar&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h2 id="空格"><a href="#空格" class="header-anchor">#</a> 空格</h2> <ul><li>总是在自动关闭的标签前加一个空格，正常情况下也不需要换行. eslint: <a href="https://eslint.org/docs/latest/rules/no-multi-spaces" target="_blank" rel="noopener noreferrer">no-multi-spaces<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://github.com/jsx-eslint/eslint-plugin-react/blob/master/docs/rules/jsx-tag-spacing.md" target="_blank" rel="noopener noreferrer">react/jsx-tag-spacing<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>Foo<span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// very bad</span>
<span class="token operator">&lt;</span>Foo                 <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// bad</span>
<span class="token operator">&lt;</span>Foo
 <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>Foo <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>不要在JSX <code>{}</code> 引用括号里两边加空格. eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-curly-spacing.md" target="_blank" rel="noopener noreferrer">react/jsx-curly-spacing<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>Foo bar<span class="token operator">=</span><span class="token punctuation">{</span> baz <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>Foo bar<span class="token operator">=</span><span class="token punctuation">{</span>baz<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>在JSX属性中禁止等号周围的空格. eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-equals-spacing.md" target="_blank" rel="noopener noreferrer">react/jsx-equals-spacing<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>Hello name <span class="token operator">=</span> <span class="token punctuation">{</span>firstname<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>Hello name <span class="token operator">=</span><span class="token punctuation">{</span>firstname<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>Hello name<span class="token operator">=</span> <span class="token punctuation">{</span>firstname<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>Hello name<span class="token operator">=</span><span class="token punctuation">{</span>firstname<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="属性"><a href="#属性" class="header-anchor">#</a> 属性</h2> <ul><li>JSX属性名使用骆驼式风格<code>camelCase</code>.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>Foo
  UserName<span class="token operator">=</span><span class="token string">&quot;hello&quot;</span>
  phone_number<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">12345678</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>Foo
  userName<span class="token operator">=</span><span class="token string">&quot;hello&quot;</span>
  phoneNumber<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">12345678</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>如果属性值为 <code>true</code>, 可以直接省略. eslint: <a href="https://github.com/jsx-eslint/eslint-plugin-react/blob/master/docs/rules/jsx-boolean-value.md" target="_blank" rel="noopener noreferrer">react/jsx-boolean-value<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>Foo
  hidden<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>Foo
  hidden
<span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>Foo hidden <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>禁止使用未知的DOM属性. eslint：<a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-unknown-property.md" target="_blank" rel="noopener noreferrer">react/no-unknown-property<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token keyword">var</span> React <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'react'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Hello <span class="token operator">=</span> <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;hello&quot;</span><span class="token operator">&gt;</span>Hello World<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">var</span> React <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'react'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Hello <span class="token operator">=</span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;hello&quot;</span><span class="token operator">&gt;</span>Hello World<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><p><code>&lt;img&gt;</code> 标签总是添加 alt 属性. 如果图片以presentation(以类似PPT方式显示)方式显示，alt 可为空, 或者<code>&lt;img&gt;</code> 要包含role=&quot;presentation&quot;. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/alt-text.md" target="_blank" rel="noopener noreferrer">jsx-a11y/alt-text<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;hello.jpg&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;hello.jpg&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;Me waving hello&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;hello.jpg&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;hello.jpg&quot;</span> role<span class="token operator">=</span><span class="token string">&quot;presentation&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>不要在 <code>alt</code> 值里使用如 &quot;image&quot;, &quot;photo&quot;, or &quot;picture&quot;包括图片含义这样的词， 中文也一样. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/img-redundant-alt.md" target="_blank" rel="noopener noreferrer">jsx-a11y/img-redundant-alt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>为什么? 屏幕助读器已经把 <code>img</code> 标签标注为图片了, 所以没有必要再在 <code>alt</code> 里说明了.</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;hello.jpg&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;Picture of me waving hello&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;hello.jpg&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;Me waving hello&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>使用有效正确的 aria role属性值 ARIA roles. eslint: <a href="https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/main/docs/rules/aria-role.md" target="_blank" rel="noopener noreferrer">jsx-a11y/aria-role<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad - not an ARIA role</span>
<span class="token operator">&lt;</span>div role<span class="token operator">=</span><span class="token string">&quot;datepicker&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// bad - abstract ARIA role</span>
<span class="token operator">&lt;</span>div role<span class="token operator">=</span><span class="token string">&quot;range&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>div role<span class="token operator">=</span><span class="token string">&quot;button&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>不要在标签上使用 <code>accessKey</code> 属性. eslint: <a href="https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/main/docs/rules/no-access-key.md" target="_blank" rel="noopener noreferrer">jsx-a11y/no-access-key<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>为什么? 屏幕助读器在键盘快捷键与键盘命令时造成的不统一性会导致阅读性更加复杂.</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>div accessKey<span class="token operator">=</span><span class="token string">&quot;h&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>div <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>避免使用数组的index来作为属性key的值，推荐使用唯一ID. (<a href="https://www.jianshu.com/p/c74624223986?u_atoken=8d331c69-f9e4-4774-8fa1-a7e9d32c1e14&amp;u_asession=01rCg72BTOQWmDzmjAhHFYAr_UVkeX69s2ocCRfb0YuEzaSbfLlL-snuAgfo2_AkTsX0KNBwm7Lovlpxjd_P_q4JsKWYrT3W_NKPr8w6oU7K9fkIYSaS3rc3-WWyFHjyLLPpcarp92QKzyJKyYjREPlmBkFo3NEHBv0PZUm6pbxQU&amp;u_asig=05PHkngCIBn4AI6DScvcchjvTom6CQRSJrn5_SqVYTjnoiZKpP0WU381YetgwCjao4QpbkfPa1QK1L39raDGJPPDWkXshNcJlPm3hunJDeBkqUw_QSyoBStEDZ5X1FF3Bxd0srBqR1YwH4IV8AhMwKfSD8iWSHzxynxLnUhEYoNqX9JS7q8ZD7Xtz2Ly-b0kmuyAKRFSVJkkdwVUnyHAIJzZPoy3vp4O04A5JXTMmxDhyVUafqyqVZ6prkp_koTXe1WPRPQyB_SKrj-61LB_f61u3h9VXwMyh6PgyDIVSG1W-hfNN6jy6rQs9MVKk3s9IUtdQcavBnR-VzaKpyQBss9oMaHklTfeYrFRrbj7_1p4oajP92R_iEAY2xhJZ4smkzmWspDxyAEEo4kbsryBKb9Q&amp;u_aref=2omJTkEKFZpXQcROUAhjAcVAcWM%3D" target="_blank" rel="noopener noreferrer">为什么?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token punctuation">{</span>todos<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todo<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token operator">&lt;</span>Todo
    <span class="token punctuation">{</span><span class="token operator">...</span>todo<span class="token punctuation">}</span>
    key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span>
  <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token punctuation">{</span>todos<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Todo
    <span class="token punctuation">{</span><span class="token operator">...</span>todo<span class="token punctuation">}</span>
    key<span class="token operator">=</span><span class="token punctuation">{</span>todo<span class="token punctuation">.</span>id<span class="token punctuation">}</span>
  <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre></div><ul><li>对于所有非必须的属性，总是手动去定义<code>defaultProps</code>属性.</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>为什么? propTypes 可以作为模块的文档说明, 并且声明 <code>defaultProps</code> 的话意味着阅读代码的人不需要去假设一些默认值。更重要的是, 显示的声明默认属性可以让你的模块跳过属性类型的检查.</p></div> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">// bad</span>
  <span class="token keyword">function</span> <span class="token constant">SFC</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar<span class="token punctuation">,</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>foo<span class="token punctuation">}</span><span class="token punctuation">{</span>bar<span class="token punctuation">}</span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token constant">SFC</span><span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
    <span class="token literal-property property">bar</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>node<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// good</span>
  <span class="token keyword">function</span> <span class="token constant">SFC</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar<span class="token punctuation">,</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>foo<span class="token punctuation">}</span><span class="token punctuation">{</span>bar<span class="token punctuation">}</span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token constant">SFC</span><span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
    <span class="token literal-property property">bar</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>node<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token constant">SFC</span><span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>尽可能少地使用扩展运算符</li></ul> <p>例外情况:</p> <ul><li>使用了变量提升的高阶组件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token constant">HOC</span><span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">Proxy</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    Proxy<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>
      <span class="token literal-property property">isLoading</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>bool
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">&lt;</span>WrappedComponent <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>只有在清楚明白扩展对象时才使用扩展运算符。这非常有用尤其是在使用Mocha测试组件的时候。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> Foo <span class="token punctuation">{</span>
  <span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token literal-property property">isPublished</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>特别提醒：尽可能地筛选出不必要的属性。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// good</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> irrelevantProp<span class="token punctuation">,</span> <span class="token operator">...</span>relevantProps  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>WrappedComponent <span class="token punctuation">{</span><span class="token operator">...</span>relevantProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token comment">// bad</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> irrelevantProp<span class="token punctuation">,</span> <span class="token operator">...</span>relevantProps  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>WrappedComponent <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>限制JSX中单行上的props的最大数量 <code>1</code>，当jsx中的props跨越多行时，仅检查每行的最大道具数. eslint: <a href="https://github.com/jsx-eslint/eslint-plugin-react/blob/master/docs/rules/jsx-max-props-per-line.md" target="_blank" rel="noopener noreferrer">react/jsx-max-props-per-line<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>Hello lastName<span class="token operator">=</span><span class="token string">&quot;Smith&quot;</span> firstName<span class="token operator">=</span><span class="token string">&quot;John&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>Hello
    firstName<span class="token operator">=</span><span class="token string">&quot;John&quot;</span>
    lastName<span class="token operator">=</span><span class="token string">&quot;Smith&quot;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>禁止在JSX中创建重复的props. eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-no-duplicate-props.md" target="_blank" rel="noopener noreferrer">react/jsx-no-duplicate-props<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>Hello
    name<span class="token operator">=</span><span class="token string">&quot;John&quot;</span>
    name<span class="token operator">=</span><span class="token string">&quot;John&quot;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>Hello
    firstName<span class="token operator">=</span><span class="token string">&quot;John&quot;</span>
    lastName<span class="token operator">=</span><span class="token string">&quot;Smith&quot;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>当我们希望使用a标签<code>target=_blank</code>来打开一个新标签页时，一定要加上<code>rel='noreferrer noopener'</code>，否则你的网页就会存在很严重的安全问题. eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/ac102885765be5ff37847a871f239c6703e1c7cc/docs/rules/jsx-no-target-blank.md" target="_blank" rel="noopener noreferrer">react/jsx-no-target-blank<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token keyword">var</span> Hello <span class="token operator">=</span> <span class="token operator">&lt;</span>a target<span class="token operator">=</span><span class="token string">'_blank'</span> href<span class="token operator">=</span><span class="token string">&quot;http://example.com/&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token keyword">var</span> Hello <span class="token operator">=</span> <span class="token operator">&lt;</span>a target<span class="token operator">=</span><span class="token string">'_blank'</span> rel<span class="token operator">=</span><span class="token string">'noopener noreferrer'</span> href<span class="token operator">=</span><span class="token string">&quot;http://example.com&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
</code></pre></div><h2 id="引用"><a href="#引用" class="header-anchor">#</a> 引用</h2> <ul><li>总是在Refs里使用回调函数. eslint: <a href="https://github.com/jsx-eslint/eslint-plugin-react/blob/master/docs/rules/no-string-refs.md" target="_blank" rel="noopener noreferrer">react/no-string-refs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>Foo
  ref<span class="token operator">=</span><span class="token string">&quot;myRef&quot;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>Foo
  ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">ref</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>myRef <span class="token operator">=</span> ref<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h2 id="括号"><a href="#括号" class="header-anchor">#</a> 括号</h2> <ul><li>将多行的JSX标签写在 <code>()</code>里. eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-wrap-multilines.md" target="_blank" rel="noopener noreferrer">react/jsx-wrap-multilines<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>MyComponent className<span class="token operator">=</span><span class="token string">&quot;long body&quot;</span> foo<span class="token operator">=</span><span class="token string">&quot;bar&quot;</span><span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>MyChild <span class="token operator">/</span><span class="token operator">&gt;</span>
         <span class="token operator">&lt;</span><span class="token operator">/</span>MyComponent<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>MyComponent className<span class="token operator">=</span><span class="token string">&quot;long body&quot;</span> foo<span class="token operator">=</span><span class="token string">&quot;bar&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>MyChild <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>MyComponent<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// good, 单行可以不需要</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> body <span class="token operator">=</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>hello<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>MyComponent<span class="token operator">&gt;</span><span class="token punctuation">{</span>body<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>MyComponent<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="标签"><a href="#标签" class="header-anchor">#</a> 标签</h2> <ul><li>对于没有子元素的标签来说总是自己关闭标签. eslint: <a href="https://github.com/jsx-eslint/eslint-plugin-react/blob/master/docs/rules/self-closing-comp.md" target="_blank" rel="noopener noreferrer">react/self-closing-comp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>Foo className<span class="token operator">=</span><span class="token string">&quot;stuff&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Foo<span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>Foo className<span class="token operator">=</span><span class="token string">&quot;stuff&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>如果模块有多行的属性， 关闭标签时新建一行. eslint: <a href="https://github.com/jsx-eslint/eslint-plugin-react/blob/master/docs/rules/jsx-closing-bracket-location.md" target="_blank" rel="noopener noreferrer">react/jsx-closing-bracket-location<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>Foo
  bar<span class="token operator">=</span><span class="token string">&quot;bar&quot;</span>
  baz<span class="token operator">=</span><span class="token string">&quot;baz&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>Foo
  bar<span class="token operator">=</span><span class="token string">&quot;bar&quot;</span>
  baz<span class="token operator">=</span><span class="token string">&quot;baz&quot;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h2 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h2> <ul><li>使用箭头函数来获取本地变量.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">ItemList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>props<span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>Item
          key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>key<span class="token punctuation">}</span>
          onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">doSomethingWith</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>name<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>当在 <code>render()</code> 里使用事件处理方法时，提前在构造函数里把 <code>this</code> 绑定上去 或者声明函数时使用箭头匿名函数，箭头函数会自动设置<code>this</code>为当前类。<strong>(简洁有效，墙裂推荐)</strong>. eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-no-bind.md" target="_blank" rel="noopener noreferrer">react/jsx-no-bind<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>为什么? 在每次 render 过程中， 再调用 bind 都会新建一个新的函数，浪费资源.</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token keyword">class</span> <span class="token class-name">extends</span> React<span class="token punctuation">.</span>Component <span class="token punctuation">{</span>
  <span class="token function">onClickDiv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// do stuff</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onClickDiv</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token keyword">class</span> <span class="token class-name">extends</span> React<span class="token punctuation">.</span>Component <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>onClickDiv <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onClickDiv</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">onClickDiv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// do stuff</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onClickDiv<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// very good</span>
<span class="token keyword">class</span> <span class="token class-name">extends</span> React<span class="token punctuation">.</span>Component <span class="token punctuation">{</span>
  <span class="token function-variable function">onClickDiv</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// do stuff</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onClickDiv<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>在 <code>render</code> 方法中总是确保 <code>return</code> 返回值. eslint: <a href="https://github.com/jsx-eslint/eslint-plugin-react/blob/master/docs/rules/require-render-return.md" target="_blank" rel="noopener noreferrer">react/require-render-return<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span><span class="token operator">&lt;</span>div <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>禁止在 <code>componentDidUpdate</code> 里面使用 <code>setState</code>. eslint：<a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-did-update-set-state.md" target="_blank" rel="noopener noreferrer">react/no-did-update-set-state<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Hello <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Hello <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>禁止在componentWillUpdate中使用setState. eslint：<a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-direct-mutation-state.md" target="_blank" rel="noopener noreferrer">react/no-will-update-set-state<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>禁止使用 ReactDOM.render 的返回值. eslint: <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-render-return-value.md" target="_blank" rel="noopener noreferrer">react/no-render-return-value<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token keyword">const</span> inst <span class="token operator">=</span> ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">doSomethingWithInst</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App ref<span class="token operator">=</span><span class="token punctuation">{</span>doSomethingWithInst<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> doSomethingWithInst<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="模块生命周期"><a href="#模块生命周期" class="header-anchor">#</a> 模块生命周期</h2> <ul><li>使用新的生命周期函数</li></ul> <p>react16.3版本后</p> <p>新增：<code>getDerivedStateFromProps</code>，<code>getSnapshotBeforeUpdate</code></p> <p>UNSAFE：<code>UNSAFE_componentWillMount</code>，<code>UNSAFE_componentWillUpdate</code>，<code>UNSAFE_componentWillReceiveProps</code>。</p> <p>UNSAFE将在17版本中进行删除，应当避免使用</p> <p><code>class extends React.Component</code> 的生命周期函数:</p> <p>可选的 <code>static</code> 方法
<code>constructor</code> 构造函数
<code>componentDidMount</code> 模块渲染后
<code>getDerivedStateFromProps</code> 模块将接受新的数据
<code>shouldComponentUpdate</code> 判断模块需不需要重新渲染
<code>componentDidUpdate</code> 模块渲染结束
<code>componentWillUnmount</code> 模块将从DOM中清除, 做一些清理任务
点击回调或者事件处理器 如 <code>onClickSubmit()</code> 或 <code>onChangeDescription()</code> <code>render</code> 里的 <code>getter</code> 方法 如 <code>getSelectReason()</code> 或 <code>getFooterContent()</code>
可选的 <code>render</code> 方法 如 <code>renderNavigation()</code> 或 <code>renderProfilePicture()</code> <code>render</code> render() 方法
如何定义 <code>propTypes</code>, <code>defaultProps</code>, <code>contextTypes</code>, 等等其他属性...</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
  <span class="token literal-property property">text</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'Hello World'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Link</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">methodsAreOk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>url<span class="token punctuation">}</span> data<span class="token operator">-</span>id<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Link<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> propTypes<span class="token punctuation">;</span>
Link<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> defaultProps<span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Link<span class="token punctuation">;</span>
</code></pre></div><h2 id="a11y"><a href="#a11y" class="header-anchor">#</a> A11Y</h2> <ul><li>要求ARIA角色有效且不抽象,如果是开发人员创建的组件则不检测. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/aria-role.md" target="_blank" rel="noopener noreferrer">jsx-a11y/aria-role<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// good</span>
<span class="token operator">&lt;</span>div role<span class="token operator">=</span><span class="token string">&quot;button&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Good<span class="token operator">:</span> <span class="token string">&quot;button&quot;</span> is a valid <span class="token constant">ARIA</span> role <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div role<span class="token operator">=</span><span class="token punctuation">{</span>role<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Good<span class="token operator">:</span> role is a variable <span class="token operator">&amp;</span> cannot be determined until runtime<span class="token punctuation">.</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Good<span class="token operator">:</span> No <span class="token constant">ARIA</span> role <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Foo<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Foo<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Good<span class="token operator">:</span> 开发人员创建的组件 <span class="token operator">--</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>要求所有aria-开头的属性都有效. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/aria-props.md" target="_blank" rel="noopener noreferrer">jsx-a11y/aria-props<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;address_label&quot;</span><span class="token operator">&gt;</span>Enter your address<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input aria<span class="token operator">-</span>labeledby<span class="token operator">=</span><span class="token string">&quot;address_label&quot;</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;address_label&quot;</span><span class="token operator">&gt;</span>Enter your address<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input aria<span class="token operator">-</span>labelledby<span class="token operator">=</span><span class="token string">&quot;address_label&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">+</span> 要求<span class="token constant">ARIA</span>状态和属性值有效<span class="token punctuation">.</span> eslint<span class="token operator">:</span> <span class="token punctuation">[</span>jsx<span class="token operator">-</span>a11y<span class="token operator">/</span>aria<span class="token operator">-</span>proptypes<span class="token punctuation">]</span><span class="token punctuation">(</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>evcohen<span class="token operator">/</span>eslint<span class="token operator">-</span>plugin<span class="token operator">-</span>jsx<span class="token operator">-</span>a11y<span class="token operator">/</span>blob<span class="token operator">/</span>master<span class="token operator">/</span>docs<span class="token operator">/</span>rules<span class="token operator">/</span>aria<span class="token operator">-</span>proptypes<span class="token punctuation">.</span>md<span class="token punctuation">)</span>

<span class="token comment">// Bad: the aria-hidden state is of type true/false</span>
<span class="token operator">&lt;</span>span aria<span class="token operator">-</span>hidden<span class="token operator">=</span><span class="token string">&quot;yes&quot;</span><span class="token operator">&gt;</span>foo<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>

<span class="token comment">// Good: the aria-hidden state is of type true/false</span>
<span class="token operator">&lt;</span>span aria<span class="token operator">-</span>hidden<span class="token operator">=</span><span class="token string">&quot;true&quot;</span><span class="token operator">&gt;</span>foo<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
</code></pre></div><ul><li>要求所有需要替代文本的元素都具有有意义的信息，此规则将检查以下内容替代文本：<code>&lt;img&gt;，&lt;area&gt;，&lt;input type=&quot;image&quot;&gt;</code>，和<code>&lt;object&gt;</code>. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/alt-text.md" target="_blank" rel="noopener noreferrer">jsx-a11y/alt-text<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Bad</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;foo&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>object <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>area <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;image&quot;</span> <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// Good</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;foo&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;Foo eating a sandwich.&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>object aria<span class="token operator">-</span>label<span class="token operator">=</span><span class="token string">&quot;foo&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>area aria<span class="token operator">-</span>label<span class="token operator">=</span><span class="token string">&quot;foo&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;image&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;This is descriptive!&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>禁止img alt文本包含多余的单词，如<code>&quot;image&quot;, &quot;picture&quot;, &quot;photo&quot;</code>. eslint:<a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/img-redundant-alt.md" target="_blank" rel="noopener noreferrer">jsx-a11y/img-redundant-alt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;foo&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;Photo of foo being weird.&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;bar&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;Image of me at a bar!&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;baz&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;Picture of baz fixing a bug.&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;foo&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;Foo eating a sandwich.&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;bar&quot;</span> aria<span class="token operator">-</span>hidden alt<span class="token operator">=</span><span class="token string">&quot;Picture of me taking a photo of an image&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token comment">// Will pass because it is hidden.</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;baz&quot;</span> alt<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Baz taking a </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>photo<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token comment">// This is valid since photo is a variable name.</span>
</code></pre></div><ul><li>要求<code>label</code>标签具有文本标签和关联控件,可以通过设置label的htmlFor属性为页面上的元素id或者将元素放在label标签里来实现。eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/b800f40a2a69ad48015ae9226fbe879f946757ed/docs/rules/label-has-associated-control.md" target="_blank" rel="noopener noreferrer">jsx-a11y/label-has-associated-control<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>label <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>label<span class="token operator">&gt;</span>Surname<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>label<span class="token operator">&gt;</span>
  Surname
  <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token punctuation">{</span>domId<span class="token punctuation">}</span><span class="token operator">&gt;</span>Surname<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> id<span class="token operator">=</span><span class="token punctuation">{</span>domId<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>对于仅限键盘的用户，要求鼠标<code>onmouseover / onmouseout</code>伴随有<code>onfocus / onblur</code>. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/mouse-events-have-key-events.md" target="_blank" rel="noopener noreferrer">jsx-a11y/mouse-events-have-key-events<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span> div  onMouseOver <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token parameter">（）</span><span class="token operator">=&gt;</span>  <span class="token keyword">void</span>  <span class="token number">0</span>  <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span> div  onMouseOut <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token parameter">（）</span><span class="token operator">=&gt;</span>  <span class="token keyword">void</span>  <span class="token number">0</span>  <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span> div  onMouseOver <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token parameter">（）</span><span class="token operator">=&gt;</span>  <span class="token keyword">void</span>  <span class="token number">0</span>  <span class="token punctuation">}</span>  <span class="token punctuation">{</span> <span class="token operator">...</span> otherProps <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span> div  onMouseOut <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token parameter">（）</span><span class="token operator">=&gt;</span>  <span class="token keyword">void</span>  <span class="token number">0</span>  <span class="token punctuation">}</span>  <span class="token punctuation">{</span> <span class="token operator">...</span> otherProps <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span> div  onMouseOver <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token parameter">（）</span><span class="token operator">=&gt;</span>  <span class="token keyword">void</span>  <span class="token number">0</span>  <span class="token punctuation">}</span>  onFocus <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token parameter">（）</span><span class="token operator">=&gt;</span>  <span class="token keyword">void</span>  <span class="token number">0</span>  <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span> div  onMouseOut <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token parameter">（）</span><span class="token operator">=&gt;</span>  <span class="token keyword">void</span>  <span class="token number">0</span>  <span class="token punctuation">}</span>  onBlur <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token parameter">（）</span><span class="token operator">=&gt;</span>  <span class="token keyword">void</span>  <span class="token number">0</span>  <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span> div  onMouseOver <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token parameter">（）</span><span class="token operator">=&gt;</span>  <span class="token keyword">void</span>  <span class="token number">0</span>  <span class="token punctuation">}</span>  onFocus <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token parameter">（）</span><span class="token operator">=&gt;</span>  <span class="token keyword">void</span>  <span class="token number">0</span>  <span class="token punctuation">}</span>  <span class="token punctuation">{</span> <span class="token operator">...</span> otherProps <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span> div  onMouseOut <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token parameter">（）</span><span class="token operator">=&gt;</span>  <span class="token keyword">void</span>  <span class="token number">0</span>  <span class="token punctuation">}</span>  onBlur <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token parameter">（）</span><span class="token operator">=&gt;</span>  <span class="token keyword">void</span>  <span class="token number">0</span>  <span class="token punctuation">}</span>  <span class="token punctuation">{</span> <span class="token operator">...</span> otherProps <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>禁止在元素上使用accessKey. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/no-access-key.md" target="_blank" rel="noopener noreferrer">jsx-a11y/no-access-key<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bad</span>
<span class="token operator">&lt;</span>div accessKey<span class="token operator">=</span><span class="token string">&quot;h&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// good</span>
<span class="token operator">&lt;</span>div <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>具有交互式角色和交互处理程序（鼠标或按键）的元素必须是可聚焦的. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/interactive-supports-focus.md" target="_blank" rel="noopener noreferrer">jsx-a11y/interactive-supports-focus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Bad: span with onClick attribute has no tabindex</span>
<span class="token operator">&lt;</span>span onclick<span class="token operator">=</span><span class="token string">&quot;submitForm();&quot;</span> role<span class="token operator">=</span><span class="token string">&quot;button&quot;</span><span class="token operator">&gt;</span>Submit<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token comment">// Bad: anchor element without href is not focusable</span>
<span class="token operator">&lt;</span>a onclick<span class="token operator">=</span><span class="token string">&quot;showNextPage();&quot;</span> role<span class="token operator">=</span><span class="token string">&quot;button&quot;</span><span class="token operator">&gt;</span>Next page<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>

<span class="token comment">// Good: div with onClick attribute is hidden from screen reader</span>
<span class="token operator">&lt;</span>div aria<span class="token operator">-</span>hidden onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">// Good: span with onClick attribute is in the tab order</span>
<span class="token operator">&lt;</span>span onClick<span class="token operator">=</span><span class="token string">&quot;doSomething();&quot;</span> tabIndex<span class="token operator">=</span><span class="token string">&quot;0&quot;</span> role<span class="token operator">=</span><span class="token string">&quot;button&quot;</span><span class="token operator">&gt;</span>Click me<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token comment">// Good: span with onClick attribute may be focused programmatically</span>
<span class="token operator">&lt;</span>span onClick<span class="token operator">=</span><span class="token string">&quot;doSomething();&quot;</span> tabIndex<span class="token operator">=</span><span class="token string">&quot;-1&quot;</span> role<span class="token operator">=</span><span class="token string">&quot;menuitem&quot;</span><span class="token operator">&gt;</span>Click me too<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token comment">// Good: anchor element with href is inherently focusable</span>
<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;javascript:void(0);&quot;</span> onClick<span class="token operator">=</span><span class="token string">&quot;doSomething();&quot;</span><span class="token operator">&gt;</span>Click <span class="token constant">ALL</span> the things<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token comment">// Good: buttons are inherently focusable</span>
<span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token string">&quot;doSomething();&quot;</span><span class="token operator">&gt;</span>Click the button <span class="token operator">:</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</code></pre></div><ul><li>具有ARIA角色的元素必须具有该角色的所有必需属性. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/role-has-required-aria-props.md" target="_blank" rel="noopener noreferrer">jsx-a11y/role-has-required-aria-props<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Bad: the checkbox role requires the aria-checked state</span>
<span class="token operator">&lt;</span>span role<span class="token operator">=</span><span class="token string">&quot;checkbox&quot;</span> aria<span class="token operator">-</span>labelledby<span class="token operator">=</span><span class="token string">&quot;foo&quot;</span> tabindex<span class="token operator">=</span><span class="token string">&quot;0&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>

<span class="token comment">// Good: the checkbox role requires the aria-checked state</span>
<span class="token operator">&lt;</span>span role<span class="token operator">=</span><span class="token string">&quot;checkbox&quot;</span> aria<span class="token operator">-</span>checked<span class="token operator">=</span><span class="token string">&quot;false&quot;</span> aria<span class="token operator">-</span>labelledby<span class="token operator">=</span><span class="token string">&quot;foo&quot;</span> tabindex<span class="token operator">=</span><span class="token string">&quot;0&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
</code></pre></div><ul><li>要求定义显式或隐式角色的元素仅包含其aria-*支持的属性role. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/role-supports-aria-props.md" target="_blank" rel="noopener noreferrer">jsx-a11y/role-supports-aria-props<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Bad: the radio role does not support the aria-required property</span>
<span class="token operator">&lt;</span>ul role<span class="token operator">=</span><span class="token string">&quot;radiogroup&quot;</span> aria<span class="token operator">-</span>labelledby<span class="token operator">=</span><span class="token string">&quot;foo&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li aria<span class="token operator">-</span>required tabIndex<span class="token operator">=</span><span class="token string">&quot;-1&quot;</span> role<span class="token operator">=</span><span class="token string">&quot;radio&quot;</span> aria<span class="token operator">-</span>checked<span class="token operator">=</span><span class="token string">&quot;false&quot;</span><span class="token operator">&gt;</span>Rainbow Trout<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li aria<span class="token operator">-</span>required tabIndex<span class="token operator">=</span><span class="token string">&quot;-1&quot;</span> role<span class="token operator">=</span><span class="token string">&quot;radio&quot;</span> aria<span class="token operator">-</span>checked<span class="token operator">=</span><span class="token string">&quot;false&quot;</span><span class="token operator">&gt;</span>Brook Trout<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li aria<span class="token operator">-</span>required tabIndex<span class="token operator">=</span><span class="token string">&quot;0&quot;</span> role<span class="token operator">=</span><span class="token string">&quot;radio&quot;</span> aria<span class="token operator">-</span>checked<span class="token operator">=</span><span class="token string">&quot;true&quot;</span><span class="token operator">&gt;</span>Lake Trout<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>

<span class="token comment">// Good: the radiogroup role does support the aria-required property</span>
<span class="token operator">&lt;</span>ul role<span class="token operator">=</span><span class="token string">&quot;radiogroup&quot;</span> aria<span class="token operator">-</span>required aria<span class="token operator">-</span>labelledby<span class="token operator">=</span><span class="token string">&quot;foo&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li tabIndex<span class="token operator">=</span><span class="token string">&quot;-1&quot;</span> role<span class="token operator">=</span><span class="token string">&quot;radio&quot;</span> aria<span class="token operator">-</span>checked<span class="token operator">=</span><span class="token string">&quot;false&quot;</span><span class="token operator">&gt;</span>Rainbow Trout<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li tabIndex<span class="token operator">=</span><span class="token string">&quot;-1&quot;</span> role<span class="token operator">=</span><span class="token string">&quot;radio&quot;</span> aria<span class="token operator">-</span>checked<span class="token operator">=</span><span class="token string">&quot;false&quot;</span><span class="token operator">&gt;</span>Brook Trout<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li tabIndex<span class="token operator">=</span><span class="token string">&quot;0&quot;</span> role<span class="token operator">=</span><span class="token string">&quot;radio&quot;</span> aria<span class="token operator">-</span>checked<span class="token operator">=</span><span class="token string">&quot;true&quot;</span><span class="token operator">&gt;</span>Lake Trout<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
</code></pre></div><ul><li>避免使用设置tabIndex&gt;0属性值来同步页面流与键盘选项卡顺序. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/tabindex-no-positive.md" target="_blank" rel="noopener noreferrer">jsx-a11y/tabindex-no-positive<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Bad</span>
<span class="token operator">&lt;</span>span tabIndex<span class="token operator">=</span><span class="token string">&quot;5&quot;</span><span class="token operator">&gt;</span>foo<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>span tabIndex<span class="token operator">=</span><span class="token string">&quot;3&quot;</span><span class="token operator">&gt;</span>bar<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>span tabIndex<span class="token operator">=</span><span class="token string">&quot;1&quot;</span><span class="token operator">&gt;</span>baz<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>span tabIndex<span class="token operator">=</span><span class="token string">&quot;2&quot;</span><span class="token operator">&gt;</span>never really sure what goes after baz<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>

<span class="token comment">// Good</span>
<span class="token operator">&lt;</span>span tabIndex<span class="token operator">=</span><span class="token string">&quot;0&quot;</span><span class="token operator">&gt;</span>foo<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>span tabIndex<span class="token operator">=</span><span class="token string">&quot;-1&quot;</span><span class="token operator">&gt;</span>bar<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>span tabIndex<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>baz<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
</code></pre></div><ul><li>强制标题元素（h1，h2等）具有内容，并且屏幕阅读器可以访问内容。可访问意味着它不会使用<code>aria-hiddenprop</code> 隐藏. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/heading-has-content.md" target="_blank" rel="noopener noreferrer">jsx-a11y/heading-has-content<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Bad</span>
<span class="token operator">&lt;</span>h1 <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token operator">&lt;</span>TextWrapper aria<span class="token operator">-</span>hidden <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// Good</span>
<span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Heading Content<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token operator">&lt;</span>TextWrapper <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>
</code></pre></div><ul><li>要求HTML元素具有&quot;lang&quot;属性. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/html-has-lang.md" target="_blank" rel="noopener noreferrer">jsx-a11y/lang<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Bad</span>
<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>

<span class="token comment">// Good</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en-US&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token punctuation">{</span>language<span class="token punctuation">}</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>禁止使用表意不明的元素，如<code>&lt;marquee&gt;</code>和<code>&lt;blink&gt;</code>. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/no-distracting-elements.md" target="_blank" rel="noopener noreferrer">jsx-a11y/no-distracting-elements<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Bad</span>
<span class="token operator">&lt;</span>marquee <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>blink <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// Good</span>
<span class="token operator">&lt;</span>div <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>scope属性只允许在th上使用. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/scope.md" target="_blank" rel="noopener noreferrer">jsx-a11y/scope<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Bad</span>
<span class="token operator">&lt;</span>div scope <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// Good</span>
<span class="token operator">&lt;</span>th scope<span class="token operator">=</span><span class="token string">&quot;col&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>th scope<span class="token operator">=</span><span class="token punctuation">{</span>scope<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>通过将表情符号包装成a，给它role=&quot;img&quot;，并提供有用的描述aria-label，屏幕阅读器会将表情符号视为可访问性树中的图像，并为最终用户提供可访问的名称. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/accessible-emoji.md" target="_blank" rel="noopener noreferrer">jsx-a11y/accessible-emoji<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Bad</span>
<span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>🐼<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>i role<span class="token operator">=</span><span class="token string">&quot;img&quot;</span> aria<span class="token operator">-</span>label<span class="token operator">=</span><span class="token string">&quot;Panda&quot;</span><span class="token operator">&gt;</span>🐼<span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">&gt;</span>

<span class="token comment">// Good</span>
<span class="token operator">&lt;</span>span role<span class="token operator">=</span><span class="token string">&quot;img&quot;</span> aria<span class="token operator">-</span>label<span class="token operator">=</span><span class="token string">&quot;Snowman&quot;</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span>#<span class="token number">9731</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>span role<span class="token operator">=</span><span class="token string">&quot;img&quot;</span> aria<span class="token operator">-</span>label<span class="token operator">=</span><span class="token string">&quot;Panda&quot;</span><span class="token operator">&gt;</span>🐼<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>span role<span class="token operator">=</span><span class="token string">&quot;img&quot;</span> aria<span class="token operator">-</span>labelledby<span class="token operator">=</span><span class="token string">&quot;panda1&quot;</span><span class="token operator">&gt;</span>🐼<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
</code></pre></div><ul><li>确保iframe元素具有唯一标题. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/iframe-has-title.md" target="_blank" rel="noopener noreferrer">jsx-a11y/iframe-has-title<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Bad</span>
<span class="token operator">&lt;</span>iframe <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>iframe <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>iframe title<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>iframe title<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">''</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>iframe title<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>iframe title<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">undefined</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>iframe title<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>iframe title<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>iframe title<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">42</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// Good</span>
<span class="token operator">&lt;</span>iframe title<span class="token operator">=</span><span class="token string">&quot;This is a unique title&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>iframe title<span class="token operator">=</span><span class="token punctuation">{</span>uniqueTitle<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>媒体元素必须写captions属性. eslint: <a href="https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/media-has-caption.md" target="_blank" rel="noopener noreferrer">jsx-a11y/media-has-caption<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Bad</span>
<span class="token operator">&lt;</span>audio <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>video <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// Good</span>
<span class="token operator">&lt;</span>audio<span class="token operator">&gt;</span><span class="token operator">&lt;</span>track kind<span class="token operator">=</span><span class="token string">&quot;captions&quot;</span> <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>audio<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>video<span class="token operator">&gt;</span><span class="token operator">&lt;</span>track kind<span class="token operator">=</span><span class="token string">&quot;captions&quot;</span> <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>video<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>video muted <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>video<span class="token operator">&gt;</span>
</code></pre></div><h2 id="hook"><a href="#hook" class="header-anchor">#</a> Hook</h2> <ul><li><p>只能在顶层调用Hook。不要在循环，条件或嵌套函数中调用Hook。确保总是在你的 React 函数的最顶层调用他们。遵守这条规则，你就能确保 Hook 在每一次渲染中都按照同样的顺序被调用。这让 React 能够在多次的 useState 和 useEffect 调用之间保持 hook 状态的正确。</p></li> <li><p>只在 React 函数中调用 Hook，不要在普通的 JavaScript 函数中调用 Hook。你可以：</p> <p>i. 在 React 的函数组件中调用 Hook</p> <p>ii. 在自定义 Hook 中调用其他 Hook 遵循此规则，确保组件的状态逻辑在代码中清晰可见。eslint: <a href="https://github.com/facebook/react/blob/c11015ff4f610ac2924d1fc6d569a17657a404fd/packages/eslint-plugin-react-hooks/src/RulesOfHooks.js" target="_blank" rel="noopener noreferrer">react-hooks/rules-of-hooks<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>为什么？正如我们所了解的，我们可以在单个组件中使用多个 State Hook 或 Effect Hook</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Form</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1. Use the name state variable</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'Mary'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 2. Use an effect for persisting the form</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">persistForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'formData'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 3. Use the surname state variable</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>surname<span class="token punctuation">,</span> setSurname<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'Poppins'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 4. Use an effect for updating the title</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">updateTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> name <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> surname<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>那么 React 怎么知道哪个 state 对应哪个 useState？答案是 React 靠的是 Hook 调用的顺序。因为我们的示例中，Hook 的调用顺序在每次渲染中都是相同的，所以它能够正常工作：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">// ------------</span>
  <span class="token comment">// 首次渲染</span>
  <span class="token comment">// ------------</span>
  <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'Mary'</span><span class="token punctuation">)</span>           <span class="token comment">// 1. 使用 'Mary' 初始化变量名为 name 的 state</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span>persistForm<span class="token punctuation">)</span>     <span class="token comment">// 2. 添加 effect 以保存 form 操作</span>
  <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'Poppins'</span><span class="token punctuation">)</span>        <span class="token comment">// 3. 使用 'Poppins' 初始化变量名为 surname 的 state</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span>updateTitle<span class="token punctuation">)</span>     <span class="token comment">// 4. 添加 effect 以更新标题</span>

  <span class="token comment">// -------------</span>
  <span class="token comment">// 二次渲染</span>
  <span class="token comment">// -------------</span>
  <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'Mary'</span><span class="token punctuation">)</span>           <span class="token comment">// 1. 读取变量名为 name 的 state（参数被忽略）</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span>persistForm<span class="token punctuation">)</span>     <span class="token comment">// 2. 替换保存 form 的 effect</span>
  <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'Poppins'</span><span class="token punctuation">)</span>        <span class="token comment">// 3. 读取变量名为 surname 的 state（参数被忽略）</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span>updateTitle<span class="token punctuation">)</span>     <span class="token comment">// 4. 替换更新标题的 effect</span>

  <span class="token comment">// ...</span>
</code></pre></div><p>只要 Hook 的调用顺序在多次渲染之间保持一致，React 就能正确地将内部 state 和对应的 Hook 进行关联。这就是为什么 Hook 需要在我们组件的最顶层调用。如果我们想要有条件地执行一个 effect，可以将判断放到 Hook 的内部：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">persistForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 将条件判断放置在 effect 中</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">!==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'formData'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/knowledgeNotes/standard/es6.html" class="prev">
          JavaScript语言编码规范(ES6)
        </a></span> <span class="next"><a href="/knowledgeNotes/net/1.网络基础.html">
          1.网络基础
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/knowledgeNotes/assets/js/app.ff98e3ee.js" defer></script><script src="/knowledgeNotes/assets/js/2.5cec4d22.js" defer></script><script src="/knowledgeNotes/assets/js/49.97281cf4.js" defer></script>
  </body>
</html>
