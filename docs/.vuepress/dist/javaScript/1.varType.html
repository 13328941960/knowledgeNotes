<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>变量与类型 | 前端知识体系</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/knowledgeNotes/favicon.ico">
    <meta name="description" content="JavaScript、浏览器、网络协议、面试题等基本知识点">
    
    <link rel="preload" href="/knowledgeNotes/assets/css/0.styles.65249e03.css" as="style"><link rel="preload" href="/knowledgeNotes/assets/js/app.e9a108aa.js" as="script"><link rel="preload" href="/knowledgeNotes/assets/js/2.5cec4d22.js" as="script"><link rel="preload" href="/knowledgeNotes/assets/js/28.757af084.js" as="script"><link rel="prefetch" href="/knowledgeNotes/assets/js/10.886521f3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/11.73dd9e06.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/12.cdc81342.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/13.fabf43ff.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/14.db14e0b9.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/15.00007a22.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/16.cde7c6c6.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/17.d74208c1.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/18.74c98c57.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/19.7ec83398.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/20.deecaada.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/21.01fe2334.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/22.e21a3141.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/23.ba04fce3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/24.2c842fcf.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/25.c8e7731a.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/26.c36267a6.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/27.6d217e4f.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/29.442ce47b.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/3.f92fc910.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/30.47da38fb.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/31.3d9b70b4.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/32.fa7296e3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/33.3c5405ea.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/34.72915ec5.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/35.e0ed3d55.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/36.d263ee8d.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/37.5c79acb4.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/38.69ec5847.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/39.eb800ee7.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/4.084eb4c2.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/40.9b0525ff.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/41.ba14e358.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/42.544893a3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/43.c5f1eb69.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/44.28fbb2d3.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/5.9ecf4c9f.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/6.218adc9e.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/7.0f2a5424.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/8.6c2bf3bc.js"><link rel="prefetch" href="/knowledgeNotes/assets/js/9.b5f79b79.js">
    <link rel="stylesheet" href="/knowledgeNotes/assets/css/0.styles.65249e03.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/knowledgeNotes/" class="home-link router-link-active"><!----> <span class="site-name">前端知识体系</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledgeNotes/javaScript/1.varType.html" aria-current="page" class="active sidebar-link">变量与类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/javaScript/1.varType.html#变量在内存中的具体存储形式" class="sidebar-link">变量在内存中的具体存储形式</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/javaScript/1.varType.html#null和undefined的区别" class="sidebar-link">null和undefined的区别</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/javaScript/1.varType.html#判断数据类型的方式" class="sidebar-link">判断数据类型的方式</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/javaScript/1.varType.html#类型转换" class="sidebar-link">类型转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledgeNotes/javaScript/1.varType.html#显示强制类型转换" class="sidebar-link">显示强制类型转换</a></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/javaScript/1.varType.html#隐含强制转换" class="sidebar-link">隐含强制转换</a></li></ul></li><li class="sidebar-sub-header"><a href="/knowledgeNotes/javaScript/1.varType.html#精度丢失" class="sidebar-link">精度丢失</a></li></ul></li><li><a href="/knowledgeNotes/javaScript/2.prototype.html" class="sidebar-link">原型以及原型链</a></li><li><a href="/knowledgeNotes/javaScript/3.scopes.html" class="sidebar-link">作用域和闭包</a></li><li><a href="/knowledgeNotes/javaScript/4.this.html" class="sidebar-link">this</a></li><li><a href="/knowledgeNotes/javaScript/5.code.html" class="sidebar-link">JavaScript 编码能力</a></li><li><a href="/knowledgeNotes/javaScript/6.nativeCode.html" class="sidebar-link">手动实现前端轮子</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络协议</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架与库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试题</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="变量与类型"><a href="#变量与类型" class="header-anchor">#</a> 变量与类型</h1> <h2 id="变量在内存中的具体存储形式"><a href="#变量在内存中的具体存储形式" class="header-anchor">#</a> 变量在内存中的具体存储形式</h2> <ol><li>局部变量的基本类型储存在栈中，引用类型的指针储存在栈中，值储存在堆中</li> <li>全局变量、闭包中的基本类型和引用类型地址都是储存在栈中，值储存在堆中</li></ol> <h2 id="null和undefined的区别"><a href="#null和undefined的区别" class="header-anchor">#</a> null和undefined的区别</h2> <p>null代表空，undefined代表未定义;
如果一个变量在申明时能预知未来是个对象，但目前未知，可以设置其为null;
如果一个变量在申明时没有为其赋值，那么它会自动被赋值为undefined;</p> <h2 id="判断数据类型的方式"><a href="#判断数据类型的方式" class="header-anchor">#</a> 判断数据类型的方式</h2> <p>1.typeof可以用于判断基本类型和函数。优点：简洁方便。缺点：只能判断基本类型和函数。
2.instanceOf。优点：可以判断所有引用类型，但不能判断基本类型
3.Object.prototype.toString.call(obj)。优点：可以判断所有类型</p> <h2 id="类型转换"><a href="#类型转换" class="header-anchor">#</a> 类型转换</h2> <h3 id="显示强制类型转换"><a href="#显示强制类型转换" class="header-anchor">#</a> 显示强制类型转换</h3> <h4 id="tonumber"><a href="#tonumber" class="header-anchor">#</a> ToNumber</h4> <p>true 变为 1 而 false 变为 0。undefined 变为 NaN，而（奇怪的是）null 变为 0。</p> <p>对于一个 string 值来说，ToNumber 工作起来很大程度上与数字字面量的规则/语法很相似。如果它失败了，结果将是 NaN
一个不同之处的例子是，在这个操作中 0 前缀的八进制数不会被作为八进制数来处理（而仅作为普通的十进制小数），虽然这样的八进制数作为 number 字面量是合法的。</p> <p>对象（以及数组）将会首先被转换为它们的基本类型值的等价物，而后这个结果值（如果它还不是一个 number 基本类型）会根据刚才提到的 ToNumber 规则被强制转换为一个 number。</p> <p>为了转换为基本类型值的等价物，<strong>ToPrimitive</strong> 抽象操作（ES5 语言规范，9.1 部分）将会查询这个值（使用内部的 DefaultValue 操作 —— ES5 语言规范，8.12.8 部分），看它有没有 valueOf() 方法。如果 <strong>valueOf() 可用</strong>并且它返回一个<strong>基本类型值</strong>，那么这个值就将用于强制转换。如果不是这样，但 <strong>toString()</strong> 可用，那么就由它来提供用于强制转换的值。如果这两种操作都没提供一个基本类型值，就会抛出一个 TypeError。</p> <p>考虑如下代码：</p> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;42&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;42&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
c<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// &quot;42&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">Number</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">// 42</span>
<span class="token function">Number</span><span class="token punctuation">(</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">// 42</span>
<span class="token function">Number</span><span class="token punctuation">(</span> c <span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">// 42</span>
<span class="token function">Number</span><span class="token punctuation">(</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">// 0</span>
<span class="token function">Number</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">// 0</span>
<span class="token function">Number</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token string">&quot;abc&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// NaN</span>
</code></pre></div><h4 id="toboolean"><a href="#toboolean" class="header-anchor">#</a> ToBoolean</h4> <p>“falsy”值列表：</p> <ul><li>undefined</li> <li>null</li> <li>false</li> <li>+0、-0、NaN</li> <li>&quot;&quot;</li></ul> <h3 id="隐含强制转换"><a href="#隐含强制转换" class="header-anchor">#</a> 隐含强制转换</h3> <h4 id="strings-numbers"><a href="#strings-numbers" class="header-anchor">#</a> Strings &lt;--&gt; Numbers</h4> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  a <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">// &quot;1,23,4&quot;</span>
</code></pre></div><p>根据ES5语言规范的11.6.1部分，+的算法是（当一个操作数是object值时），如果两个操作数之一已经是一个string，或者下列步骤产生一个string表达形式，+将会进行连。所以，当+的两个操作数之一收到一个object（包括array）时，它首先在这个值上调用ToPrimitive抽象操作（9.1部分），而它会带着number的上下文环境提示来调用[[DefaultValue]]算法（8.12.8部分）。</p> <p>如果你仔细观察，你会发现这个操作现在和ToNumber抽象操作处理object的过程是一样的。在array上的valueOf()操作将会在产生一个简单基本类型时失败，于是它退回到一个toString()表现形式。两个array因此分别变成了&quot;1,2&quot;和&quot;3,4&quot;。现在，+就如你通常期望的那样连接这两个string：&quot;1,23,4&quot;。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

a <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>			<span class="token comment">// &quot;42&quot;</span>

<span class="token function">String</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// &quot;4&quot;</span>
</code></pre></div><p>我们如何将一个string 隐含强制转换 为一个number</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;3.14&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a <span class="token operator">-</span> <span class="token number">0</span><span class="token punctuation">;</span>

b<span class="token punctuation">;</span> <span class="token comment">// 3.14</span>
</code></pre></div><h4 id="boolean"><a href="#boolean" class="header-anchor">#</a> * --&gt; Boolean</h4> <p>哪个种类的表达式操作（隐含地）要求/强制一个boolean转换呢？</p> <ol><li>在一个if (..)语句中的测试表达式。</li> <li>在一个for ( .. ; .. ; .. )头部的测试表达式</li> <li>在while (..)和do..while(..)循环中的测试表达式。</li> <li>在? :三元表达式中的测试表达式</li> <li>|| 和 &amp;&amp; 操作符左手边的操作数</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c<span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">}</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;nope, never runs&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

c <span class="token operator">=</span> d <span class="token operator">?</span> a <span class="token operator">:</span> b<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">// &quot;abc&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">&amp;&amp;</span> d<span class="token punctuation">)</span> <span class="token operator">||</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;yep&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// yep</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>a <span class="token operator">||</span> b<span class="token punctuation">;</span>
<span class="token comment">// 大体上等价于：</span>
a <span class="token operator">?</span> a <span class="token operator">:</span> b<span class="token punctuation">;</span>
<span class="token comment">// 大体上等价于：</span>
a <span class="token operator">?</span> b <span class="token operator">:</span> a<span class="token punctuation">;</span>
</code></pre></div><h4 id="宽松等价与严格等价"><a href="#宽松等价与严格等价" class="header-anchor">#</a> 宽松等价与严格等价</h4> <h5 id="比较-string与number"><a href="#比较-string与number" class="header-anchor">#</a> 比较：string与number</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&quot;42&quot;</span><span class="token punctuation">;</span>

a <span class="token operator">===</span> b<span class="token punctuation">;</span>	<span class="token comment">// false</span>
a <span class="token operator">==</span> b<span class="token punctuation">;</span>		<span class="token comment">// true</span>
</code></pre></div><p>在ES5语言规范中，条款11.9.3.4-5说：</p> <div class="language- extra-class"><pre class="language-text"><code>如果Type(x)是Number而Type(y)是String， 返回比较x == ToNumber(y)的结果。
如果Type(x)是String而Type(y)是Number， 返回比较ToNumber(x) == y的结果。
</code></pre></div><p>语言规范说为了比较，将值&quot;42&quot;强制转换为一个number</p> <h5 id="比较-任何东西与boolean"><a href="#比较-任何东西与boolean" class="header-anchor">#</a> 比较：任何东西与boolean</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;42&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

a <span class="token operator">==</span> b<span class="token punctuation">;</span>	<span class="token comment">// false</span>
</code></pre></div><p>引用语言规范，条款11.9.3.6-7</p> <div class="language- extra-class"><pre class="language-text"><code>如果Type(x)是Boolean， 返回比较 ToNumber(x) == y 的结果。
如果Type(y)是Boolean， 返回比较 x == ToNumber(y) 的结果。
</code></pre></div><h5 id="比较-null与undefined"><a href="#比较-null与undefined" class="header-anchor">#</a> 比较：null与undefined</h5> <p>ES5语言规范，条款11.9.3.2-3：</p> <div class="language- extra-class"><pre class="language-text"><code>如果x是null而y是undefined，返回true。
如果x是undefined而y是null，返回true。
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b<span class="token punctuation">;</span>

a <span class="token operator">==</span> b<span class="token punctuation">;</span>		<span class="token comment">// true</span>
a <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
b <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
</code></pre></div><h5 id="比较-object与非object"><a href="#比较-object与非object" class="header-anchor">#</a> 比较：object与非object</h5> <div class="language- extra-class"><pre class="language-text"><code>如果Type(x)是一个String或者Number而Type(y)是一个Object， 返回比较 x == ToPrimitive(y) 的结果。
如果Type(x)是一个Object而Type(y)是String或者Number， 返回比较 ToPrimitive(x) == y 的结果。
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">42</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

a <span class="token operator">==</span> b<span class="token punctuation">;</span>	<span class="token comment">// true</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 与`Object()`相同</span>
a <span class="token operator">==</span> b<span class="token punctuation">;</span>					<span class="token comment">// false</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span> c <span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 与`Object()`相同</span>
c <span class="token operator">==</span> d<span class="token punctuation">;</span>					<span class="token comment">// false</span>

<span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token number">NaN</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span> e <span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 与`new Number( e )`相同</span>
e <span class="token operator">==</span> f<span class="token punctuation">;</span>					<span class="token comment">// false</span>
</code></pre></div><p>值null和undefined不能被装箱 —— 它们没有等价的对象包装器 —— 所以Object(null)就像Object()一样，它们都仅仅产生一个普通对象。</p> <p>NaN可以被封箱到它等价的Number对象包装器中，当==导致拆箱时，比较NaN == NaN会失败，因为NaN永远不会它自己相等（见第二章）。</p> <h4 id="边界情况-false-y-比较"><a href="#边界情况-false-y-比较" class="header-anchor">#</a> 边界情况: False-y 比较</h4> <p>我们看一个关于falsy值比较的极端例子的列表</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;0&quot;</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>			<span class="token comment">// false</span>
<span class="token string">&quot;0&quot;</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>		<span class="token comment">// false</span>
<span class="token string">&quot;0&quot;</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">;</span>			<span class="token comment">// true -- 噢！</span>
<span class="token string">&quot;0&quot;</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">;</span>				<span class="token comment">// false</span>
<span class="token string">&quot;0&quot;</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>				<span class="token comment">// true</span>
<span class="token string">&quot;0&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>				<span class="token comment">// false</span>

<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>			<span class="token comment">// false</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>		<span class="token comment">// false</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">;</span>			<span class="token comment">// false</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>				<span class="token comment">// true -- 噢！</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>			<span class="token comment">// true -- 噢！</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>			<span class="token comment">// true -- 噢！</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>			<span class="token comment">// false</span>

<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>				<span class="token comment">// false</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>		<span class="token comment">// false</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">;</span>				<span class="token comment">// false</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>				<span class="token comment">// true -- 噢！</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>				<span class="token comment">// true -- 噢！</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>				<span class="token comment">// false</span>

<span class="token number">0</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>				<span class="token comment">// false</span>
<span class="token number">0</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>			<span class="token comment">// false</span>
<span class="token number">0</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">;</span>				<span class="token comment">// false</span>
<span class="token number">0</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>				<span class="token comment">// true -- 噢！</span>
<span class="token number">0</span> <span class="token operator">==</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>				<span class="token comment">// false</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;0&quot;</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">;</span>			<span class="token comment">// true -- 噢！</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>				<span class="token comment">// true -- 噢！</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>			<span class="token comment">// true -- 噢！</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>			<span class="token comment">// true -- 噢！</span>

<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>				<span class="token comment">// true -- 噢！</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>				<span class="token comment">// true -- 噢！</span>
<span class="token number">0</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>				<span class="token comment">// true -- 噢！</span>
</code></pre></div><p>这个列表中7个项目的4个与== false比较有关，我们早先说过你应当，总是避免的。</p> <p>安全地使用隐含强制转换</p> <ol><li>如果比较的任意一边可能出现true或者false值，那么就永远，永远不要使用==。</li> <li>如果比较的任意一边可能出现[]，&quot;&quot;，或0这些值，那么认真地考虑不使用==。</li></ol> <h2 id="精度丢失"><a href="#精度丢失" class="header-anchor">#</a> 精度丢失</h2> <p>JS Number类型值是根据IEEE 754规范，采用双精度存储，即会将数字转成二进制存储，
0.1 和 0.2 在转换成二进制后会无限循环，要进行舍入，导致精度丢失。
在相加的时候同理，还会进行一次舍入，再次导致精度丢失。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/knowledgeNotes/javaScript/2.prototype.html">
          原型以及原型链
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/knowledgeNotes/assets/js/app.e9a108aa.js" defer></script><script src="/knowledgeNotes/assets/js/2.5cec4d22.js" defer></script><script src="/knowledgeNotes/assets/js/28.757af084.js" defer></script>
  </body>
</html>
